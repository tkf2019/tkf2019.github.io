<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-CN">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">






  
  
  <link rel="stylesheet" media="all" href="/lib/Han/dist/han.min.css?v=3.3">




<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="TKF" type="application/atom+xml" />






<meta name="description" content="This site is used for keeping daily study notes.">
<meta property="og:type" content="website">
<meta property="og:title" content="TKF">
<meta property="og:url" content="http://tkfblog.com/index.html">
<meta property="og:site_name" content="TKF">
<meta property="og:description" content="This site is used for keeping daily study notes.">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="TKF">
<meta property="article:tag" content="Algorithms">
<meta property="article:tag" content=" Networks">
<meta property="article:tag" content=" Systems">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"right","display":"hide","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://tkfblog.com/"/>





  <title>TKF</title>
  








<meta name="generator" content="Hexo 4.2.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">TKF</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tkfblog.com/post/f8e09374.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="TKF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/TKF.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TKF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/f8e09374.html" itemprop="url">Vue</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-13T10:02:13+08:00">
                2020-08-13
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-08-13T10:04:09+08:00">
                2020-08-13
              </time>
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h3 id="一、Vue"><a href="#一、Vue" class="headerlink" title="一、Vue"></a>一、Vue</h3><h4 id="1-Vue指令"><a href="#1-Vue指令" class="headerlink" title="1.Vue指令"></a>1.Vue指令</h4><h5 id="v-once"><a href="#v-once" class="headerlink" title="v-once"></a>v-once</h5><p>修饰的元素和组件仅渲染一次，不会随着数据的改变而改变</p>
<h5 id="v-html"><a href="#v-html" class="headerlink" title="v-html"></a>v-html</h5><p>对后面的string类型按照HTML格式进行解析</p>
<h5 id="v-text"><a href="#v-text" class="headerlink" title="v-text"></a>v-text</h5><h5 id="对文本进行覆盖"><a href="#对文本进行覆盖" class="headerlink" title="对文本进行覆盖"></a>对文本进行覆盖</h5><h5 id="v-pre"><a href="#v-pre" class="headerlink" title="v-pre"></a>v-pre</h5><h5 id="显示元素和组件渲染之前的文本"><a href="#显示元素和组件渲染之前的文本" class="headerlink" title="显示元素和组件渲染之前的文本"></a>显示元素和组件渲染之前的文本</h5><h5 id="v-cloak"><a href="#v-cloak" class="headerlink" title="v-cloak"></a>v-cloak</h5><p>防止异步卡顿等情况下页面闪动，仅在vue解析之后才显示文本</p>
<h5 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h5><p>用来创建双向数据绑定，根据表单上的值，自动更新绑定的元素的值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot;  v-model&#x3D;&quot;message&quot;&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;text&quot; :value&#x3D;&quot;message&quot; @input&#x3D;&quot;message &#x3D; $event.target.value&quot;&gt;</span><br></pre></td></tr></table></figure>
<h5 id="v-on"><a href="#v-on" class="headerlink" title="v-on"></a>v-on</h5><p>（语法糖为‘@’）如果传递的方法需要参数且省略括号后，Vue会默认将浏览器产生的事件对象作为参数传入方法，事件对象可以通过$event获取。v-on修饰符有很多，stop阻止事件冒泡，prevent阻止默认事件，enter与键盘操作配合接收回车，native监听组件根元素的原生事件，once只触发一次回调。</p>
<h5 id="v-bind"><a href="#v-bind" class="headerlink" title="v-bind"></a>v-bind</h5><p>（语法糖为‘：’）动态绑定属性，可以作为一个方法或计算属性，也可以和其他默认类绑定在一起</p>
<h5 id="v-if"><a href="#v-if" class="headerlink" title="v-if"></a>v-if</h5><p>配合v-else-if,v-else使用，直接添加到html标签中</p>
<h5 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h5><p>数组操作应该使用响应式更新：push,pop,unshift,splice,sort,reverse，注意下标操作是非响应式的</p>
<h4 id="2-Vue修饰符"><a href="#2-Vue修饰符" class="headerlink" title="2.Vue修饰符"></a>2.Vue修饰符</h4><p><strong>lazy</strong>：延迟绑定数据</p>
<p><strong>number</strong>：强制类型转换</p>
<p><strong>trim</strong>：过滤表单前后的空格</p>
<h4 id="3-组件化-components"><a href="#3-组件化-components" class="headerlink" title="3.组件化(components)"></a>3.组件化(components)</h4><h5 id="props"><a href="#props" class="headerlink" title="props"></a>props</h5><p>props有三个成员，type声明类型，default声明默认值，required来决定是否必须传值，和Vue对象中的data类似，default需要使用工厂函数进行声明，因为函数的作用域可以避免多个对象共用相同地址的数据。在利用v-bind将父组件的数据传递给子组件时，需要注意v-bind不支持大写字母，驼峰标识应该转为’-‘</p>
<h5 id="自定义事件"><a href="#自定义事件" class="headerlink" title="自定义事件"></a>自定义事件</h5><p>子组件向父组件传递数据，使用$emit注册事件名称并传递参数</p>
<h5 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h5><p>可以通过子组件的watch属性监听成员值的变化</p>
<h5 id="children-refs-parent-root"><a href="#children-refs-parent-root" class="headerlink" title="$children/$refs/$parent/$root"></a>$children/$refs/$parent/$root</h5><p>$children生成包含子组件的数组，可以直接通过数组访问子组件的属性，$refs通过对子组件声明ref属性，才可以将该子组件关联到数组中,$parent访问父组件,$root访问根组件</p>
<h4 id="4-插槽-slot"><a href="#4-插槽-slot" class="headerlink" title="4.插槽(slot)"></a>4.插槽(slot)</h4><p>插槽可以命名，注意变量的作用域：父组件模板的所有内容会在父级作用域内编译，子组件模板的所有内容会在子级作用域内编译</p>
<h5 id="slot-scope-作用域插槽"><a href="#slot-scope-作用域插槽" class="headerlink" title="slot-scope(作用域插槽)"></a>slot-scope(作用域插槽)</h5><p>使用作用域插槽获取子组件中的数据，父组件则声明数据的使用方式</p>
<h4 id="5-模块化-modules"><a href="#5-模块化-modules" class="headerlink" title="5.模块化(modules)"></a>5.模块化(modules)</h4><h5 id="ES6模块化规范"><a href="#ES6模块化规范" class="headerlink" title="ES6模块化规范"></a>ES6模块化规范</h5><p>export关键字可以在声明变量的同时导出，普通导出时不能重命名，可以使用export default导出并重命名；import导入模块可以使用通配符*全部导出</p>
<h5 id="CommonJs模块化规范"><a href="#CommonJs模块化规范" class="headerlink" title="CommonJs模块化规范"></a>CommonJs模块化规范</h5><p>使用module.export/require建立模块之间的关联，传递类型均为对象</p>
<p>6.响应式</p>
<p>调用Vue.set和Vue.delete等函数对数组或者映射进行添加或删除操作，注意下标操作是非响应式的。</p>
<h3 id="二、ES6"><a href="#二、ES6" class="headerlink" title="二、ES6"></a>二、ES6</h3><h4 id="1-定义变量"><a href="#1-定义变量" class="headerlink" title="1.定义变量"></a>1.定义变量</h4><p>ES5：使用<strong>var</strong>，在function中有作用域的概念，在for和if中无作用域的概念。应用工厂函数或者匿名闭包解决类似问题，闭包可以增强代码可读性，但运行起来内存消耗较大且影响速度。</p>
<p>ES6：引入了<strong>let/const</strong>修饰符，目的是完善JavaScript早期开发中遗留的一大问题：作用域。let在for和if中有作用域的概念。const则表示被声明对象的内存地址不可以被更改，但注意其内部属性是可以更改的，所以在使用const时要谨慎，必须就地初始化（和C/C++中的const，Java中的final类似)。ES6开发中优先考虑const。</p>
<h4 id="2-对象字面量增强"><a href="#2-对象字面量增强" class="headerlink" title="2.对象字面量增强"></a>2.对象字面量增强</h4><p>在ES6中，对象可以通过键值解构来直接获得其中的变量名和内容，对象内部的函数声明不需要再使用function声明。现阶段，Vue开发大多使用ES6，Angular开发则使用Microsoft开发的TypeScript，添加了类型检测的功能。</p>
<h4 id="3-箭头函数"><a href="#3-箭头函数" class="headerlink" title="3.箭头函数"></a>3.箭头函数</h4><p>箭头函数中的this向外层作用域查找，直到有this的定义。</p>
<h4 id="4-对象解构"><a href="#4-对象解构" class="headerlink" title="4.对象解构"></a>4.对象解构</h4><p>类似于python解包的用法。</p>
<h3 id="三、TypeScript"><a href="#三、TypeScript" class="headerlink" title="三、TypeScript"></a>三、TypeScript</h3><h3 id="四、webpack"><a href="#四、webpack" class="headerlink" title="四、webpack"></a>四、webpack</h3><p>webpack是一款强大的打包工具，需要掌握node的基础使用以及ES6。</p>
<h4 id="1-配置webpack-config-js"><a href="#1-配置webpack-config-js" class="headerlink" title="1.配置webpack.config.js"></a>1.配置webpack.config.js</h4><p>使用path包动态获取当前绝对路径。在当前路径下执行npm init命令，并执行npm install进行绑定，执行npm install webpack@3.6.0 —save-dev在本地安装webpack。<strong>注意</strong>：-dev表示开发时依赖，最终运行程序不需要安装的内容。很明显，我们仅在对文件进行解析和打包时使用以下插件，所以需要加上-dev。</p>
<p>执行npm install —save-dev css-loader和npm install —save-dev style-loader对.css文件进行加载并将样式添加到DOM中。注意npm在执行use过程中是从右向左读取，根据插件之间的依赖关系，需要先绑定css-loader。类似地，我们可以安装less-loader，sass-loader等将.less、.scss文件先解析为css文件。</p>
<p><strong>注意</strong>：执行npm install -g cnpm —registry=<a href="https://registry.npm.taobao.org安装淘宝镜像，并执行cnpm" target="_blank" rel="noopener">https://registry.npm.taobao.org安装淘宝镜像，并执行cnpm</a> install node-sass —save-dev在本地安装node-sass(国外安装环境较差，会报一些路径错误包依赖错误等等乱七八糟的东西)，或者执行npm config set sass_binary_site=<a href="https://npm.taobao.org/mirrors/node-sass修改node-sass安装源，之后根据peerDependency执行npm" target="_blank" rel="noopener">https://npm.taobao.org/mirrors/node-sass修改node-sass安装源，之后根据peerDependency执行npm</a> install sass-loader node-sass webpack —save-dev安装sass-loader。</p>
<p>某些插件会存在版本过高的问题，所以在install时应指定版本号。</p>
<p>为利用浏览器缓存提高渲染效率，可以将css模块和js模块分开打包，先执行npm install extract-text-webpack-plugin安装extract包，在webpack.config.js中配置ExtractTextPlugin对象，例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> extractSass = <span class="keyword">new</span> ExtractTextPlugin(&#123;</span><br><span class="line">  filename: <span class="string">"css/[name].[contenthash].css"</span>,</span><br><span class="line">  disable: process.env.NODE_ENV === <span class="string">"development"</span>,</span><br><span class="line">  allChunks: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./src/main.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">    filename: <span class="string">'bundle.js'</span>，</span><br><span class="line">    publicPath: <span class="string">'dist/'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">  	rules: [&#123;</span><br><span class="line">	  test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: extractSass.extract(&#123;</span><br><span class="line">          use: [&#123;</span><br><span class="line">            loader: <span class="string">'css-loader'</span></span><br><span class="line">          &#125;],</span><br><span class="line">          fallback: <span class="string">'style-loader'</span></span><br><span class="line">        &#125;) </span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    extractSass</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行npm install url-loader —save-dev和npm install file-loader —save-dev安装url-loader和file-loader。url-loader对图片文件进行处理，应用base64对图片进行转码，转码前可以对图片的大小进行限制，图片大小如果超出限制，就使用file-loader对图片进行打包。file-loader在对图片进行打包后会默认放到dist文件夹中，可以在output中添加publicPath属性，声明所有url的默认前缀。</p>
<p>执行npm install —save-dev babel-loader@7 babel-core babel-preset-es2015安装babel插件将ES6语法自动转换为ES5语法。</p>
<h4 id="2-配置Vue环境"><a href="#2-配置Vue环境" class="headerlink" title="2.配置Vue环境"></a>2.配置Vue环境</h4><p>代码运行时依赖Vue，所以执行npm install vue —save。代码在打包的过程中会生成两个版本的代码，分别是runtime-only和runtime-compiler，runtime-only代码中不可以有template。在main.js创建的Vue实例中定义template，将准备放入index.html的内容写入template，编译时会自动对Vue：el管理的元素进行替换。</p>
<p>组件以js对象形式进行组织和使用也会造成代码的可读性变差，可以利用.vue文件对template，script，style三个板块进行封装和处理。这里需要执行npm install vue-loader vue-template-compiler —save-dev安装插件对.vue进行打包。vue-loader正常运行需要引入相关plugin，具体实现参考之后的webpack.config.js完整代码。</p>
<h4 id="3-使用相关Plugin"><a href="#3-使用相关Plugin" class="headerlink" title="3.使用相关Plugin"></a>3.使用相关Plugin</h4><p>横幅插件，在代码开头添加版权信息，使用webpack.BannerPlugin。</p>
<p>打包html，执行npm install html-webpack-plugin@3.2.0 —save-dev安装HtmlWebpackPlugin。可以在dist文件夹中根据指定模板自动生成index.html文件，将打包的js文件，自动通过script标签插入到body中。<strong>注意</strong>：可能存在各个插件版本不兼容等问题，需要降低版本号。</p>
<p>对bundle.js进行压缩，执行npm install uglifyjs-webpack-plugin@1.1.1 —save-dev安装插件。</p>
<h4 id="4-本地服务器"><a href="#4-本地服务器" class="headerlink" title="4.本地服务器"></a>4.本地服务器</h4><p>webpack提供了一个可选的本地开发服务器。这个服务器基于node.js搭建，内部使用express框架，可以实现浏览器自动刷新修改后的结果。执行npm install webpack-dev-server@2.9.1 —save-dev安装devserver。同样地，我们在package.json中添加npm run的命令server，后面的webpack-dev-server就会指定自动在本地运行服务器。</p>
<h4 id="5-webpack配置分离"><a href="#5-webpack配置分离" class="headerlink" title="5.webpack配置分离"></a>5.webpack配置分离</h4><p>首先执行npm install webpack-merge —save-dev安装插件，对生成和开发时的公有配置进行提取，创建webpack.config.base.js文件，之后对生成和开发环境的配置分别进行调整，应用merge函数对配置文件进行合并。在package.json中执行npm run命令时，添加相关配置路径—config ./build/webpack.config.dev.js。</p>
<h3 id="五、less-与Sass基本相同，查看文档即可"><a href="#五、less-与Sass基本相同，查看文档即可" class="headerlink" title="五、less(与Sass基本相同，查看文档即可)"></a>五、less(与Sass基本相同，查看文档即可)</h3><h3 id="六、Sass"><a href="#六、Sass" class="headerlink" title="六、Sass"></a>六、Sass</h3><p>Sass(Syntactically Awesome Stylesheets)是一个CSS预处理语言，可以帮助我们减少重复代码，sass可生成良好格式化的代码，易于组织和维护</p>
<h4 id="1-变量"><a href="#1-变量" class="headerlink" title="1.变量"></a>1.变量</h4><p>使用$声明变量名称和变量值，变量类型可包括多种，且存在全局作用域和局部作用域。可以使用!global来将变量声明为全局变量。通常情况下，我们将所有全局变量定义在同一个文件，然后使用include来包含该文件。</p>
<h4 id="2-嵌套"><a href="#2-嵌套" class="headerlink" title="2.嵌套"></a>2.嵌套</h4><p>sass嵌套规则与HTML格式相似，支持多层嵌套。对于某些具有相同属性的前缀，可以使用嵌套属性来统一编写，例如</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$bgColor</span>: blue;</span><br><span class="line"><span class="variable">$textColor</span>: red;</span><br><span class="line"><span class="variable">$fontSize</span>: <span class="number">18px</span>;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">font</span>: &#123;</span><br><span class="line">      family: Arial, <span class="string">"Helvetica Neue"</span>, Helvetica, sans-serif;</span><br><span class="line">      size: <span class="variable">$fontSize</span>;</span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$textColor</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-文件"><a href="#3-文件" class="headerlink" title="3.文件"></a>3.文件</h4><p>Sass @import指令可以导入.scss和.css文件。</p>
<p>在文件名的开头添加下划线告诉Sass不要将其编译为css文件。</p>
<p>@mixin指令允许我们定义一个可以在整个样式表中重复使用的样式，@include可以将@mixin样式引入到文档中，@mixin使用方法与函数类似，支持嵌套，可以传入参数，且参数可以定义默认值。可以使用…来设置可变参数。</p>
<p>浏览器前缀使用@mixin样式可以增强代码的可读性：</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> transform(<span class="variable">$property</span>) &#123;</span><br><span class="line">	-webkit-<span class="attribute">transform</span>: <span class="variable">$property</span>;</span><br><span class="line">	-ms-<span class="attribute">transform</span>: <span class="variable">$property</span>;</span><br><span class="line">	<span class="attribute">transform</span>: <span class="variable">$property</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">	<span class="keyword">@include</span> transform(rotate(<span class="number">20deg</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用@extend指令提高代码复用性，可以告诉Sass一个选择器的样式从另一个选择器继承。</p>
<h3 id="七、Vue-CLI-Vue-Command-Line-Interface"><a href="#七、Vue-CLI-Vue-Command-Line-Interface" class="headerlink" title="七、Vue CLI(Vue Command-Line Interface)"></a>七、Vue CLI(Vue Command-Line Interface)</h3><p>执行npm install -g @vue/cli安装vue-cli最新版本。由于存在某些项目仍有VueCLI2的需求，所以安装@vue/cli-init使用vue-cli2的命令。</p>
<h4 id="1-VueCLI2"><a href="#1-VueCLI2" class="headerlink" title="1.VueCLI2"></a>1.VueCLI2</h4><p>执行vue init webpack <project name>，如果安装失败，可以将webpack下载到本地。</p>
<p>runtime-compiler和runtime-only的区别：runtime-only直接调用render函数，省去了对template的编译过程，避免进行解析生成抽象语法树，减少代码量，提高程序运行效率。</p>
<h4 id="2-VueCL3-VueCL4"><a href="#2-VueCL3-VueCL4" class="headerlink" title="2.VueCL3/VueCL4"></a>2.VueCL3/VueCL4</h4><p>可以直接通过可视化界面对项目进行管理。将webpack相关配置和插件依赖都封装起来。</p>
<h4 id="八、Vue-Router"><a href="#八、Vue-Router" class="headerlink" title="八、Vue Router"></a>八、Vue Router</h4><p><strong>scheme://host:port/path?query#fragment</strong></p>
<h4 id="1-配置router文件"><a href="#1-配置router文件" class="headerlink" title="1.配置router文件"></a>1.配置router文件</h4><p>将需要进行路由的文件全部导入到index.js中，创建Router实例，其中routes属性可以对路径和插件进行散列匹配，并添加mode属性对链接进行美化。在接口文件中使用router-view标签对router相关标签进行显示。</p>
<h4 id="2-router-link"><a href="#2-router-link" class="headerlink" title="2.router-link"></a>2.router-link</h4><p>router-link默认渲染为a标签，可以通过tag属性修改标签类型，例如button，li等。to属性指定标签跳转的地址，其中可以添加内容，如果不想通过浏览器回退按钮切换页面，可以添加replace属性，将默认的栈操作改为直接替换。</p>
<p>replace源码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">HTML5History.prototype.push = <span class="function"><span class="keyword">function</span> <span class="title">push</span> (<span class="params">location, onComplete, onAbort</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> <span class="keyword">this</span>$<span class="number">1</span> = <span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> ref = <span class="keyword">this</span>;</span><br><span class="line">      <span class="keyword">var</span> fromRoute = ref.current;</span><br><span class="line">      <span class="keyword">this</span>.transitionTo(location, <span class="function"><span class="keyword">function</span> (<span class="params">route</span>) </span>&#123;</span><br><span class="line">        pushState(cleanPath(<span class="keyword">this</span>$<span class="number">1.</span>base + route.fullPath));</span><br><span class="line">        handleScroll(<span class="keyword">this</span>$<span class="number">1.</span>router, route, fromRoute, <span class="literal">false</span>);</span><br><span class="line">        onComplete &amp;&amp; onComplete(route);</span><br><span class="line">      &#125;, onAbort);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    HTML5History.prototype.replace = <span class="function"><span class="keyword">function</span> <span class="title">replace</span> (<span class="params">location, onComplete, onAbort</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> <span class="keyword">this</span>$<span class="number">1</span> = <span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> ref = <span class="keyword">this</span>;</span><br><span class="line">      <span class="keyword">var</span> fromRoute = ref.current;</span><br><span class="line">      <span class="keyword">this</span>.transitionTo(location, <span class="function"><span class="keyword">function</span> (<span class="params">route</span>) </span>&#123;</span><br><span class="line">        replaceState(cleanPath(<span class="keyword">this</span>$<span class="number">1.</span>base + route.fullPath));</span><br><span class="line">        handleScroll(<span class="keyword">this</span>$<span class="number">1.</span>router, route, fromRoute, <span class="literal">false</span>);</span><br><span class="line">        onComplete &amp;&amp; onComplete(route);</span><br><span class="line">      &#125;, onAbort);</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure>
<h4 id="3-动态路由"><a href="#3-动态路由" class="headerlink" title="3.动态路由"></a>3.动态路由</h4><p>Router实例中的routes属性添加路径匹配时，可以对路径进行动态捕获，例如</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">path: <span class="string">'/user/:userid'</span>,</span><br><span class="line">component: User</span><br></pre></td></tr></table></figure>
<p>可以捕获userid，在router-link中进行动态跳转时，则可以使用v-bind对路径进行绑定。这里在User组件中，可以通过this.$route.params.userid来获取跳转时获取的userid的值，并将其呈现在组件中。</p>
<p>$route和$router成员的注册源码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">install</span> (<span class="params">Vue</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (install.installed &amp;&amp; _Vue === Vue) &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    install.installed = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    _Vue = Vue;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> isDef = <span class="function"><span class="keyword">function</span> (<span class="params">v</span>) </span>&#123; <span class="keyword">return</span> v !== <span class="literal">undefined</span>; &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> registerInstance = <span class="function"><span class="keyword">function</span> (<span class="params">vm, callVal</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> i = vm.$options._parentVnode;</span><br><span class="line">      <span class="keyword">if</span> (isDef(i) &amp;&amp; isDef(i = i.data) &amp;&amp; isDef(i = i.registerRouteInstance)) &#123;</span><br><span class="line">        i(vm, callVal);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    Vue.mixin(&#123;</span><br><span class="line">      beforeCreate: <span class="function"><span class="keyword">function</span> <span class="title">beforeCreate</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isDef(<span class="keyword">this</span>.$options.router)) &#123;</span><br><span class="line">          <span class="keyword">this</span>._routerRoot = <span class="keyword">this</span>;</span><br><span class="line">          <span class="keyword">this</span>._router = <span class="keyword">this</span>.$options.router;</span><br><span class="line">          <span class="keyword">this</span>._router.init(<span class="keyword">this</span>);</span><br><span class="line">          Vue.util.defineReactive(<span class="keyword">this</span>, <span class="string">'_route'</span>, <span class="keyword">this</span>._router.history.current);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">this</span>._routerRoot = (<span class="keyword">this</span>.$parent &amp;&amp; <span class="keyword">this</span>.$parent._routerRoot) || <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        registerInstance(<span class="keyword">this</span>, <span class="keyword">this</span>);</span><br><span class="line">      &#125;,</span><br><span class="line">      destroyed: <span class="function"><span class="keyword">function</span> <span class="title">destroyed</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        registerInstance(<span class="keyword">this</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(Vue.prototype, <span class="string">'$router'</span>, &#123;</span><br><span class="line">      <span class="keyword">get</span>: function <span class="keyword">get</span> () &#123; <span class="keyword">return</span> <span class="keyword">this</span>._routerRoot._router &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(Vue.prototype, <span class="string">'$route'</span>, &#123;</span><br><span class="line">      <span class="keyword">get</span>: function <span class="keyword">get</span> () &#123; <span class="keyword">return</span> <span class="keyword">this</span>._routerRoot._route &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    Vue.component(<span class="string">'RouterView'</span>, View);</span><br><span class="line">    Vue.component(<span class="string">'RouterLink'</span>, Link);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> strats = Vue.config.optionMergeStrategies;</span><br><span class="line">    <span class="comment">// use the same hook merging strategy for route hooks</span></span><br><span class="line">    strats.beforeRouteEnter = strats.beforeRouteLeave = strats.beforeRouteUpdate = strats.created;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h4 id="4-导航守卫"><a href="#4-导航守卫" class="headerlink" title="4.导航守卫"></a>4.导航守卫</h4><p>导航守卫的关键是理解beforeEach，beforeRouteLeave等函数参数中的next函数，next函数可以被用于用户界面的登录。</p>
<h4 id="5-keep-alive"><a href="#5-keep-alive" class="headerlink" title="5.keep-alive"></a>5.keep-alive</h4><p>在Vue组件的生命周期中，利用浏览器的缓存对已经创建好的实例进行保存，防止调用created函数。只有在对router-view外层包装了keep-alive标签后，才可以在实例中调用activated/deactivated，这两个函数可以用来监听网页的跳转，和守卫相关函数类似。</p>
<h4 id="6-路由解耦"><a href="#6-路由解耦" class="headerlink" title="6.路由解耦"></a>6.路由解耦</h4><p>在组件中使用$route会使之与其对应路由形成高度耦合，从而组件只能在某些特定的URL上使用。可使用props将组件和路由解耦</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name: <span class="string">'User'</span>,</span><br><span class="line">path: <span class="string">'/user/:userid'</span>,</span><br><span class="line">component: <span class="function"><span class="params">()</span> =&gt;</span> User,</span><br><span class="line">props: <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h4 id="7-路由懒加载"><a href="#7-路由懒加载" class="headerlink" title="7.路由懒加载"></a>7.路由懒加载</h4><p>打包应用的过程中，为防止js包过于庞大，需要将不同路由对应的组件分割成为不同的代码块，当路由被访问到的时候才加载对应组件。结合Vue的异步组件和Webpack的代码分割功能：如上文代码块</p>
<h4 id="附：一些问题的解决办法"><a href="#附：一些问题的解决办法" class="headerlink" title="附：一些问题的解决办法"></a>附：一些问题的解决办法</h4><h5 id="1-Error-Avoided-redundant-navigation-to-current-location"><a href="#1-Error-Avoided-redundant-navigation-to-current-location" class="headerlink" title="1.Error: Avoided redundant navigation to current location"></a>1.Error: Avoided redundant navigation to current location</h5><p>直接修改VueRouter成员，取消报错功能，防止终端看起来过于混乱：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> originalReplace = VueRouter.prototype.replace</span><br><span class="line">VueRouter.prototype.replace = <span class="function"><span class="keyword">function</span> <span class="title">replace</span>(<span class="params">location</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> originalReplace.call(<span class="keyword">this</span>, location).catch(<span class="function"><span class="params">err</span> =&gt;</span> err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> originalPush = VueRouter.prototype.push</span><br><span class="line">VueRouter.prototype.push = <span class="function"><span class="keyword">function</span> <span class="title">push</span>(<span class="params">location</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> originalPush.call(<span class="keyword">this</span>, location).catch(<span class="function"><span class="params">err</span> =&gt;</span> err)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="九、Vuex"><a href="#九、Vuex" class="headerlink" title="九、Vuex"></a>九、Vuex</h3><p>vuex提倡应用单一状态树(single state of truth)对数据进行管理，用this.$store获取。</p>
<h4 id="1-mutations"><a href="#1-mutations" class="headerlink" title="1.mutations"></a>1.mutations</h4><p>vuex状态更新的唯一方式是提交mutation，mutation主要包括两部分：字符串的事件类型和回调函数(handler)。在对state中存储的变量进行操作时需要在mutations中定义相关函数，这些函数默认参数为state。建议mutation函数声明统一变量名。mutation一般用于同步操作，异步操作则推荐使用actions。mutation外部调用使用this.$store.commit([function], payloads)</p>
<h4 id="2-getters"><a href="#2-getters" class="headerlink" title="2.getters"></a>2.getters</h4><p>返回state中变量的相关形式，定义的函数默认参数只有两个，state和可选的getters本身，进行嵌套操作，也可以返回函数传递其他参数。</p>
<h4 id="3-actions"><a href="#3-actions" class="headerlink" title="3.actions"></a>3.actions</h4><p>actions使用不可以跨过mutations，而是在actions定义的函数中回调mutations的函数，this.$store.dispatch([function], payloads)。actions中的函数可以返回Promise，具体参见异步请求讲解的内容。</p>
<h4 id="4-moduels"><a href="#4-moduels" class="headerlink" title="4.moduels"></a>4.moduels</h4><p>对store进行分区，防止内容过于臃肿难于理解。模块中getters函数可以存在第三个参数rootState，访问根store区域的内容。actions中的commit只会调用本模块中的内容，所以可以调用rootState和rootMutations。</p>
<h3 id="十、异步请求"><a href="#十、异步请求" class="headerlink" title="十、异步请求"></a>十、异步请求</h3><h4 id="1-Promise"><a href="#1-Promise" class="headerlink" title="1.Promise"></a>1.Promise</h4><h4 id="2-Async"><a href="#2-Async" class="headerlink" title="2.Async"></a>2.Async</h4><h4 id="3-python异步库asyncio"><a href="#3-python异步库asyncio" class="headerlink" title="3.python异步库asyncio"></a>3.python异步库asyncio</h4><p>执行asyncio.run()运行函数，在一个协程中，使用await func()意味着当前协程需要等待func()u运行之后才执行。</p>
<p>执行asyncio.create_task创建运行任务，并使用await <task>异步执行不同任务，当前协程继续执行，最后用await同步结果。</p>
<p><strong>协程</strong>是asyncio异步切换的基础，可以在其他协程中await。</p>
<p>asyncio.Future()和asyncio.gather()函数</p>
<h3 id="十一、配置django"><a href="#十一、配置django" class="headerlink" title="十一、配置django"></a>十一、配置django</h3><p>安装完成anaconda后注意到root中的内容过于臃肿，可以自行配置conda虚拟环境，并安装需要的包，执行conda create -n <name>。可以执行conda list查看安装了哪些包，执行conda env list或者conda info -e查看当前存在哪些虚拟环境，执行activate <name>或者conda.bat activate <name>激活虚拟环境。可以执行conda remove移除虚拟环境。</p>
<p>执行conda install django安装相应版本，考虑到项目前后端分离，且端口不一致，vue是8080，django是8000，会存在找不到服务的问题，首先执行pip install django-cors-headers并修改settings.py。</p>
<h3 id="十二、Docker"><a href="#十二、Docker" class="headerlink" title="十二、Docker"></a>十二、Docker</h3><p>docker容器下运行minio后端</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name myminio -p 8576:9000 minio/minio server /data</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 9000:9000 --name minio \</span><br><span class="line">    -d --restart=always \</span><br><span class="line">    -e "MINIO_ACCESS_KEY=admin" \</span><br><span class="line">    -e "MINIO_SECRET_KEY=123@abc.com" \</span><br><span class="line">    -v /home/data:/data \</span><br><span class="line">    -v /home/config:/root/.minio \</span><br><span class="line">    minio/minio server /data</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tkfblog.com/post/c8c4683d.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="TKF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/TKF.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TKF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/c8c4683d.html" itemprop="url">数据链路层</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-19T15:37:52+08:00">
                2020-06-19
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-08-13T12:11:12+08:00">
                2020-08-13
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Computer-Networks/" itemprop="url" rel="index">
                    <span itemprop="name">Computer Networks</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h3 id="一、数据链路层的设计问题"><a href="#一、数据链路层的设计问题" class="headerlink" title="一、数据链路层的设计问题"></a>一、数据链路层的设计问题</h3><h4 id="1-服务"><a href="#1-服务" class="headerlink" title="1.服务"></a>1.服务</h4><p>数据链路层使用物理层提供的服务在通信信道上发送和接收比特。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">完成的功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">向网络层提供一个定义良好的服务接口</td>
</tr>
<tr>
<td style="text-align:left">处理传输错误（检错+纠错）</td>
</tr>
<tr>
<td style="text-align:left">调节数据流，确保慢速的接收方不会被快速的发送方淹没</td>
</tr>
</tbody>
</table>
</div>
<p>数据链路层从网络层获得数据包，然后将这些数据包封装成<strong>帧</strong>(frame)以便传输。每个帧包含一个帧头，一个有效载荷(用于存放数据包)以及一个帧尾。</p>
<p>数据链路层的协议更加简单和纯粹，适合详细学习理解其中的原理。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>数据链路层提供的服务</th>
</tr>
</thead>
<tbody>
<tr>
<td>无确认的无连接服务：发送及接收独立的帧而不对这些帧进行确认，主要适用于错误率很低的场合和实时通信</td>
</tr>
<tr>
<td>有确认的无连接服务：发送的每一帧都需要单独确认，主要适用于不可靠的信道，如无线系统(802.11)</td>
</tr>
<tr>
<td>有确认的有连接服务：为网络层进程提供可靠的比特流，主要适用于长距离且不可靠的链路</td>
</tr>
</tbody>
</table>
</div>
<p>面向连接的服务有三个阶段：建立连接，初始化各种变量和计数器；传输数据帧；释放连接。</p>
<h4 id="2-成帧"><a href="#2-成帧" class="headerlink" title="2.成帧"></a>2.成帧</h4><h5 id="1-字节计数法-会错位，无法纠错无法重传，无实际应用价值"><a href="#1-字节计数法-会错位，无法纠错无法重传，无实际应用价值" class="headerlink" title="(1)字节计数法(会错位，无法纠错无法重传，无实际应用价值)"></a>(1)字节计数法(会错位，无法纠错无法重传，无实际应用价值)</h5><h5 id="2-PPP协议-Point-to-Point-Protocol"><a href="#2-PPP协议-Point-to-Point-Protocol" class="headerlink" title="(2)PPP协议(Point-to-Point Protocol)"></a>(2)PPP协议(Point-to-Point Protocol)</h5><h5 id="3-HDLC协议-High-Level-Data-Link-Control"><a href="#3-HDLC协议-High-Level-Data-Link-Control" class="headerlink" title="(3)HDLC协议(High-Level Data Link Control)"></a>(3)HDLC协议(High-Level Data Link Control)</h5><h5 id="4-物理层编码违禁法"><a href="#4-物理层编码违禁法" class="headerlink" title="(4)物理层编码违禁法"></a>(4)物理层编码违禁法</h5><p>4B/5B线性编码模式，增加25%开销获得额外的标志字段，具体参见<a href="https://tkf2019.github.io/post/652d7ab3.html" target="_blank" rel="noopener">物理层</a>内容；以太网和802.11使用了共同的分界模式，应用<strong>前导码</strong>(preamble)：用一个定义良好的比特来标识一帧的开始，前导码之后的长度字段用来定位帧的结束位置</p>
<h4 id="3-差错控制"><a href="#3-差错控制" class="headerlink" title="3.差错控制"></a>3.差错控制</h4><p>协议要求接收方发回一些特殊的控制帧，发送方可以得知传输过程是否发生了错误，并进行重传。如果一个帧被完全丢失，则无法判断该帧的信息是否出错，发送方需要启动一个计时器。一般情况下，在计时器超时前，该帧应该被正确地接收，并且确认帧也被传了回来。确认丢失之后，发送方需要重新发送帧。为避免接收方重复地向网络层发送同一信息，需要在帧中加入识别序号用以区分原始帧和重传帧。</p>
<h4 id="4-流量控制"><a href="#4-流量控制" class="headerlink" title="4.流量控制"></a>4.流量控制</h4><p>为协调发送方发送帧和接收方接收并处理帧的速度，常用的办法有两种：<strong>基于反馈的流量控制</strong>(feedback-based flow control)和<strong>基于速率的流量控制</strong>(rate-based flow control)。基于反馈的流控制协议包含了许多定义良好的规则规定发送方什么时候可以发送下一帧。</p>
<h3 id="二、差错检测和纠正"><a href="#二、差错检测和纠正" class="headerlink" title="二、差错检测和纠正"></a>二、差错检测和纠正</h3><p>错误处理有两种基本策略，都在发送的数据中加入冗余信息。前一种策略使用了<strong>纠错码</strong>(error-correcting code)，通常也称为<strong>前向纠错</strong>(FEC, Froward Error Correction)；后一种策略使用了<strong>检错码</strong>(error-detecting code)。</p>
<h4 id="1-纠错码"><a href="#1-纠错码" class="headerlink" title="1.纠错码"></a>1.纠错码</h4><h5 id="1-1-相关定义"><a href="#1-1-相关定义" class="headerlink" title="1.1 相关定义"></a>1.1 相关定义</h5><p>一帧由m个<strong>数据位(信息)</strong>和r个<strong>冗余位(校验位)</strong>组成。校验码由数据位的函数计算而得，即校验位由数据位唯一确定，称为<strong>块码</strong>(block code)。<strong>系统码</strong>(systematic code)先发送数据码，再发送校验码；<strong>线性码</strong>(line code)通过线性函数计算出校验码，例如XOR和模2加。数据块总长度n=m+r，称为n位<strong>码字</strong>(codeword)，合法信息与码长的比值称为<strong>码率</strong>(code rate)。</p>
<h5 id="1-2-海明码"><a href="#1-2-海明码" class="headerlink" title="1.2 海明码"></a>1.2 海明码</h5><p>两个码字XOR之后所得结果中1的个数称为<strong>海明距离</strong>(Hamming distance)。</p>
<p>块码的检错和纠错特性和其海明距离有关。检测d个错误，需要距离为d+1的编码方案；纠正d个错误，需要距离为2d+1的编码方案。</p>
<p>设想一种编码方案针对上述码字可纠正所有的单个位错误，因而$2^m$个合法信息对应n+1个不同码字(每一位都有可能发生错误)，且总码字数量不能超过$2^n$，则有</p>
<script type="math/tex; mode=display">
m+1\leqslant 2^r-r</script><p>可以根据该公式计算出m位块码对应校验位个数。</p>
<p>类似地，对于纠正d个错误，可以得到</p>
<script type="math/tex; mode=display">
C^d_{m+r}+1\leqslant 2^r</script><p>在海明码中，码字的位数从左至右编号，其中2的幂次方位为校验位，其余位为数据位依次排列。每一个校验位进行模2加，或对某些位的集合进行偶(或奇)校验。求和时，只需将二进制表达覆盖了该2 的幂次方的数进行相加，例如1，3，5，7，9……或2，3，6，7，10，11……，保证最后算得的数为偶数或奇数。对收到的码字进行纠错时，则再次按照前述集合进行模2加，最后从高至低位的二进制数即为错误，取反即可得到正确答案。</p>
<h5 id="1-3-卷积码"><a href="#1-3-卷积码" class="headerlink" title="1.3 卷积码"></a>1.3 卷积码</h5><p>书中表述不太全，主要思想为卷积码不属于块码，其解码方法为<strong>软判决解码</strong>(soft-decision decoding)，可对原始码进行概率估计；与之对应的为<strong>硬判决解码</strong>(hard-decision decoding)。</p>
<p>关于Viterbi算法，请见<a href="">HMM</a>。</p>
<h5 id="1-4-里德所罗门码"><a href="#1-4-里德所罗门码" class="headerlink" title="1.4 里德所罗门码"></a>1.4 里德所罗门码</h5><h5 id="1-5-低密度奇偶校验码"><a href="#1-5-低密度奇偶校验码" class="headerlink" title="1.5 低密度奇偶校验码"></a>1.5 低密度奇偶校验码</h5><h4 id="2-检错码"><a href="#2-检错码" class="headerlink" title="2.检错码"></a>2.检错码</h4><h5 id="2-1-奇偶"><a href="#2-1-奇偶" class="headerlink" title="2.1 奇偶"></a>2.1 奇偶</h5><h5 id="2-2-校验和"><a href="#2-2-校验和" class="headerlink" title="2.2 校验和"></a>2.2 校验和</h5><h5 id="2-3-循环冗余校验码-CRC-Cyclic-Redundancy-Check"><a href="#2-3-循环冗余校验码-CRC-Cyclic-Redundancy-Check" class="headerlink" title="2.3 循环冗余校验码(CRC, Cyclic Redundancy Check)"></a>2.3 循环冗余校验码(CRC, Cyclic Redundancy Check)</h5><h3 id="三、基本协议"><a href="#三、基本协议" class="headerlink" title="三、基本协议"></a>三、基本协议</h3><h4 id="1-Utopia单工协议"><a href="#1-Utopia单工协议" class="headerlink" title="1.Utopia单工协议"></a>1.Utopia单工协议</h4><h4 id="2-无错信道上的单工停-等式协议"><a href="#2-无错信道上的单工停-等式协议" class="headerlink" title="2.无错信道上的单工停-等式协议"></a>2.无错信道上的单工停-等式协议</h4><h4 id="3-有错信道上的单工停-等式协议"><a href="#3-有错信道上的单工停-等式协议" class="headerlink" title="3.有错信道上的单工停-等式协议"></a>3.有错信道上的单工停-等式协议</h4><h3 id="四、滑动窗口协议"><a href="#四、滑动窗口协议" class="headerlink" title="四、滑动窗口协议"></a>四、滑动窗口协议</h3>
          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tkfblog.com/post/8f7ce547.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="TKF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/TKF.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TKF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/8f7ce547.html" itemprop="url">HTML/CSS</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-26T11:18:36+08:00">
                2020-05-26
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-05-29T19:21:06+08:00">
                2020-05-29
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Computer-Networks/" itemprop="url" rel="index">
                    <span itemprop="name">Computer Networks</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Main-root"><a href="#Main-root" class="headerlink" title="Main root"></a>Main root</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <strong>html</strong> element represents the root of an HTML document.</p>
<h4 id="Document-metadata"><a href="#Document-metadata" class="headerlink" title="Document metadata"></a>Document metadata</h4><p>Metadata contains information about the page. This includes information about styles, scripts and data to help software use and render the page.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">base</span>&gt;</span><span class="tag">&lt;/<span class="name">base</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <strong>base</strong> element specifies the base URL to use for all relative URLs in a document.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <strong>head</strong> element represents a collection of metadata for the Document.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span>&gt;</span><span class="tag">&lt;/<span class="name">link</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The External Resource <strong>link</strong> element specifies relationshops between the current document and an external resource. This element is most commonly used to link to stylesheets, but is also used to establish sites icons among other things.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <strong>meta</strong> element represents metadata that cannot be represented by ohter HTML meta-related elements.</p>
<p>charset: This attribute declares the document’s character encoding. It’s value must be an ASCII case-intensitive match for the string “utf-8”.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line"><span class="selector-class">.wrapper</span>&#123;</span><br><span class="line">	<span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">70%</span> <span class="number">30%</span>;</span><br><span class="line">    <span class="comment">/*grid-template-columns: 1fr 1fr 1fr;*/</span></span><br><span class="line">    <span class="comment">/*grid-template-columns: repeat(3, 1fr);*/</span></span><br><span class="line">    <span class="comment">/*grid-template-columes: repeat(4, 1fr, 2fr);*/</span></span><br><span class="line">    <span class="attribute">grid-gap</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">grid-auto-rows</span>: <span class="built_in">minmax</span>(<span class="number">100px</span>, auto);</span><br><span class="line">    <span class="attribute">justify-items</span>: strentch;</span><br><span class="line">    <span class="attribute">align-items</span>: strentch;</span><br><span class="line">    <span class="comment">/*justify-self: end;*/</span></span><br><span class="line">    <span class="comment">/*align-self: start;*/</span></span><br><span class="line">    <span class="attribute">grid-column</span>: <span class="number">1</span>/<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">grid-row</span>: <span class="number">1</span>/<span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wrapper</span> &gt; <span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="comment">/*padding: 10%;*/</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">#333</span> <span class="number">3px</span> solid;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wrapper</span> &gt; <span class="selector-tag">div</span>: <span class="selector-tag">nth-child</span>(<span class="selector-tag">odd</span>)&#123;</span><br><span class="line">	<span class="attribute">background</span>: <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>The <strong>style</strong> element allows authors to embed style information in their documents. The style element is one of several inputs to the styling processing model. The element does not represent content for the user.</p>
<p>In HTML, <strong>margin</strong> means the distance between frames while <strong>padding</strong> means the distance between frame and content.</p>
<h5 id="Funtions"><a href="#Funtions" class="headerlink" title="Funtions"></a>Funtions</h5><p><strong>repeat</strong> can be extended into repeated patterns and the syntax is repeat(number, args…)；</p>
<p><strong>minmax</strong> defines the minimum(initial) and maximum(auto) size of rows and columns, usually used after auto shorthands and the syntax is minmax(length/percentage/auto, length/percentage/auto);</p>
<h5 id="Shorthands"><a href="#Shorthands" class="headerlink" title="Shorthands"></a>Shorthands</h5><p><strong>grid-template-columns</strong> devides the content and specifies, as a space-separated track list, the line names and track sizing functions of the grid.</p>
<p><strong>grid-gap</strong> specifies the gutters between grid columns and grid rows in one declaration. Replaced by ‘gap’ property.</p>
<p><strong>grid-auto-rows</strong> specifies the size of implicitly created rows.</p>
<p><strong>justify-items</strong> defines the default <strong>justify-self</strong> for all items of the box, giving them the default way of justifying each box along the appropriate axis.</p>
<p><strong>align-items</strong> flex items along the cross axis of the current line of the flex container.</p>
<p><strong>align-self</strong> allows the default alignment along the cross axis to be overridden for individual flex items.</p>
<p><strong>grid-column/grid-row</strong> defines the start of grid column(row) and the end of grid column(row).Only one number means num to num + 1; </p>
<p><strong>background</strong>  sets most background properties at the same place in the style sheet.</p>
<p><strong>padding</strong> defines the inner margin of an element with percentage or length. The order of the elements is top(<strong>padding-top</strong>), right(<strong>padding-right</strong>), bottom(<strong>padding-bottom</strong>) and left(<strong>padding-left</strong>). If left is omitted, it is the same as right. If bottom is omitted it is the same as top, if right is omitted it is the same as top. The value may not be negative.</p>
<p><strong>border</strong> sets border width, style, and color.</p>
<p><strong>nth-child(n)</strong> specifies the nth child with other attributes.n can be number, odd, even and so on. </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <strong>title</strong> element represents the document’s title or name. Authors should use titles that identify their documents even when they are used out of context, for example in a user’s history or bookmarks, or in search results. The document’s title is often different from its first heading, since the first heading does not have to stand alone when taken out of context.</p>
<h4 id="Sectioning-Root"><a href="#Sectioning-Root" class="headerlink" title="Sectioning Root"></a>Sectioning Root</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <strong>body</strong> element represents the content of the document.</p>
<h4 id="Text-Content"><a href="#Text-Content" class="headerlink" title="Text Content"></a>Text Content</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span> <span class="attr">style</span>=<span class="string">"width: 200px"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"nested"</span>&gt;</span></span><br><span class="line">      	/*content*/</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <strong>div</strong> element has no special meaning at all. It represents its children. It can be used with the <strong>class</strong>, lang, and title attributes to mark up semantics common to a group of consecutive elements.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The ol element represents an oredered list of items and the ul element represents an unordered list of items. The li element is used to represent an item in a list.</p>
<h4 id="Inline-Text-Semantics"><a href="#Inline-Text-Semantics" class="headerlink" title="Inline Text Semantics"></a>Inline Text Semantics</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://www.mozilla.org/"</span> <span class="attr">title</span>=<span class="string">""</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <strong>a</strong> element, with its href attribute, creates a hyperlink. The <strong>href</strong> attribute specifies the web address that you want the link to point to.The <strong>title</strong> attribute specifies extra information about the link such as what page is being linked to.The <strong>target</strong> attribute specifies the browsing context that will be used to display the link. target=”_blank” will display the link in a new tab.</p>
<h4 id="Forms"><a href="#Forms" class="headerlink" title="Forms"></a>Forms</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <strong>button</strong> element represents a clickable button, used to submit forms or anywhere in a document for accessible, standard button functionally.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">placeholder</span>=<span class="string">""</span> <span class="attr">disabled</span>/<span class="attr">required</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <strong>input</strong> element represents a typed data field, usually with a form control to allow the user to edit the data.</p>
<p>The <strong>placeholder</strong> attribute displays the text input field before typing in. The <strong>disabled</strong> attribute specifies that the input field is unaccessible. The <strong>required</strong> attribue specifies that users can’t submit without completing the input field.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"id_1"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"id_1"</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"id_2"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"id_2"</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <strong>label</strong> element represents a caption for an item in a user interface.</p>
<p>The <strong>radio</strong> button specifies giving one answer out of multiple options. The <strong>checkbox</strong> button specifies giving more than one answer.</p>

          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tkfblog.com/post/bfaab9bd.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="TKF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/TKF.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TKF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/bfaab9bd.html" itemprop="url">乘法逆元</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-22T22:43:43+08:00">
                2020-05-22
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-05-22T23:00:19+08:00">
                2020-05-22
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ALG/" itemprop="url" rel="index">
                    <span itemprop="name">ALG</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LL long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 3000001</span></span><br><span class="line">LL X, Y, n, p;</span><br><span class="line">LL inv[MAXN], used[MAXN], prime[MAXN];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">EUCLID</span><span class="params">(LL a,LL b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">0</span>)&#123;</span><br><span class="line">        X = <span class="number">1</span>;</span><br><span class="line">        Y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    EUCLID(b, a % b);</span><br><span class="line">    LL tmp = X;</span><br><span class="line">    X = Y;</span><br><span class="line">    Y = tmp - a / b * Y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; p;</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(used, <span class="number">0</span>, <span class="keyword">sizeof</span>(used));</span><br><span class="line">    inv[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!used[i])&#123;</span><br><span class="line">            prime[++num] = i;</span><br><span class="line">            EUCLID(i, p);</span><br><span class="line">            inv[i] = X &gt; <span class="number">0</span> ? X : X + p;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= num &amp;&amp; i * prime[j] &lt;= n; ++j) &#123;</span><br><span class="line">            used[i * prime[j]] = <span class="number">1</span>;</span><br><span class="line">            inv[i * prime[j]] = inv[i] * inv[prime[j]] % p;</span><br><span class="line">            <span class="keyword">if</span> (i % prime[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(LL i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; inv[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>求乘法逆元：应用扩展欧几里得算法和欧拉筛；</p>

          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tkfblog.com/post/cca1b543.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="TKF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/TKF.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TKF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/cca1b543.html" itemprop="url">词频统计</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-21T12:01:17+08:00">
                2020-05-21
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-05-22T23:24:46+08:00">
                2020-05-22
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Project/" itemprop="url" rel="index">
                    <span itemprop="name">Project</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>小项目时间耗费10h+，中间出现了大量的问题，主要由于不太熟悉C语言，很多流操作和内存操作用起来十分生涩。</p>
<h3 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h3><p>项目要求为给定四个文档，词典文档dictionary.txt，停用词词典文档stopwords.txt，两篇文章article1.txt和article2.txt。要求分为如下几项：</p>
<p>1.读入词典；2.读入文章；3.对文章中的每个单词进行判断并记录出现次数；4.对两篇文章的词频进行排序；5.在一定范围两篇文章中排好序的单词中寻找同时出现的单词作为文章相似度的指标。</p>
<h3 id="算法实现"><a href="#算法实现" class="headerlink" title="算法实现"></a>算法实现</h3><h4 id="Trie树"><a href="#Trie树" class="headerlink" title="Trie树"></a>Trie树</h4><p>先根据读入的词典建立Trie树，并针对停用词词典中的词进行删除。单词长度有限，所以每次查找可近似看为O(1)的时间复杂度。具体实现代码如下：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">TWord* _new_tword_alloc()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    TWord* p = (TWord*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TWord));</span><br><span class="line">    p-&gt;isword = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(; i &lt; <span class="number">26</span>; i++) </span><br><span class="line">        p-&gt;ptr[i] = <span class="literal">NULL</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">void</span> _build_file(FILE* fp)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">char</span> dic_word[MAX_WORD_SIZE];</span><br><span class="line">    <span class="keyword">char</span> *<span class="keyword">word</span>;</span><br><span class="line">    TWord *p;</span><br><span class="line">    _root = _new_tword_alloc();</span><br><span class="line">    <span class="comment">//build a Trie Tree</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, dic_word) != EOF)&#123;</span><br><span class="line">        <span class="keyword">word</span> = dic_word;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(p = _root; *<span class="keyword">word</span> != <span class="string">'\0'</span>; <span class="keyword">word</span>++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(p-&gt;ptr[*<span class="keyword">word</span> - <span class="string">'a'</span>] == <span class="literal">NULL</span>)</span><br><span class="line">                p-&gt;ptr[*<span class="keyword">word</span> - <span class="string">'a'</span>] = _new_tword_alloc();</span><br><span class="line">            p = p-&gt;ptr[*<span class="keyword">word</span> - <span class="string">'a'</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//final letter is the end of a word in dictionary</span></span><br><span class="line">        p-&gt;isword = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rbuild</span><span class="params">(FILE* fp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> stop_word[MAX_WORD_SIZE];</span><br><span class="line">    <span class="keyword">char</span> *<span class="keyword">word</span>;</span><br><span class="line">    TWord *p;</span><br><span class="line">    <span class="comment">//delete the stop_word showing up in the dictionary</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, stop_word) != EOF)&#123;</span><br><span class="line">        <span class="keyword">word</span> = stop_word;</span><br><span class="line">        <span class="keyword">for</span>(p = _root; p!= <span class="literal">NULL</span> &amp;&amp; *<span class="keyword">word</span> != <span class="string">'\0'</span>; <span class="keyword">word</span>++)</span><br><span class="line">			p = p-&gt;ptr[*<span class="keyword">word</span> - <span class="string">'a'</span>];</span><br><span class="line">		<span class="keyword">if</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">			p-&gt;isword = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">char</span> *w, TWord* root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	TWord *l = root;</span><br><span class="line">	<span class="keyword">while</span>(l != <span class="literal">NULL</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(*w == <span class="string">'\0'</span>)</span><br><span class="line">			<span class="keyword">return</span> l-&gt;isword;</span><br><span class="line">		l = l-&gt;ptr[*w - <span class="string">'a'</span>];</span><br><span class="line">		w++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="散列表"><a href="#散列表" class="headerlink" title="散列表"></a>散列表</h4><p>应用散列表，选取512作为映射集合的基数，关键字散列函数表示为：</p>
<script type="math/tex; mode=display">
H(string)=(\sum_{each\ c\in string}ASCII\ number\ of\ c)\ mod\ 512</script><p>有限全域取决于词典规模，查找操作时间复杂度可降低至O(n)，具体实现代码如下：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">LWord* _new_lword_alloc(<span class="keyword">char</span>* <span class="keyword">word</span>)</span><br><span class="line">&#123;</span><br><span class="line">    LWord* p = (LWord*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LWord));</span><br><span class="line">    <span class="built_in">strcpy</span>(p-&gt;<span class="keyword">word</span>, <span class="keyword">word</span>);</span><br><span class="line">    p-&gt;num = <span class="number">1</span>;</span><br><span class="line">    p-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hash</span><span class="params">(<span class="keyword">char</span>* <span class="keyword">word</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> Hash = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(*<span class="keyword">word</span> != <span class="string">'\0'</span>)</span><br><span class="line">        Hash += *<span class="keyword">word</span>++;</span><br><span class="line">    <span class="keyword">return</span> Hash &amp; <span class="number">511</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addWord</span><span class="params">(<span class="keyword">char</span>* <span class="keyword">word</span>, LWord** HASH)</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">    <span class="comment">//if(!search(word, _root)) return;</span></span><br><span class="line">    <span class="keyword">int</span> index = hash(<span class="keyword">word</span>);</span><br><span class="line">    <span class="comment">//create a new node if a NULL pointer </span></span><br><span class="line">    <span class="keyword">if</span>(HASH[index] == <span class="literal">NULL</span>)&#123;</span><br><span class="line">        HASH[index] = _new_lword_alloc(<span class="keyword">word</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    LWord* p = HASH[index];</span><br><span class="line">    <span class="comment">//find the word in the list of hash table </span></span><br><span class="line">    <span class="keyword">while</span>(p-&gt;next != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">strcmp</span>(<span class="keyword">word</span>, p-&gt;<span class="keyword">word</span>))&#123;</span><br><span class="line">            p-&gt;num++;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">strcmp</span>(<span class="keyword">word</span>, p-&gt;<span class="keyword">word</span>))&#123;</span><br><span class="line">        p-&gt;num++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//failed to find then create a new node</span></span><br><span class="line">    p-&gt;next = _new_lword_alloc(<span class="keyword">word</span>);</span><br><span class="line">    word_num++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>（散列表相关知识请参考<a href="https://tkf2019.github.io/post/718acd86.html" target="_blank" rel="noopener">散列表</a>）</p>
<h4 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h4><p>先开辟内存指向散列表中的单词。建堆操作取决于最初要求的排序范围，利用最小堆对每次读入单词使用堆维护操作，最后利用堆排序得到词频序列，若词典规模为M，排序范围为N，则排序操作的近似时间复杂度为O((M+N)lgN)，具体实现代码如下：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmp</span><span class="params">(LWord* w1, LWord* w2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(w1-&gt;num &lt; w2-&gt;num) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(w1-&gt;num == w2-&gt;num)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(w1-&gt;<span class="keyword">word</span>, w2-&gt;<span class="keyword">word</span>) &gt; <span class="number">0</span>) </span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">LWord** <span class="title">Sort</span><span class="params">(LWord** HASH)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(word_num &gt; N) word_num = N;</span><br><span class="line">    <span class="comment">//create new heap to sort</span></span><br><span class="line">    LWord** WORD = (LWord**)<span class="built_in">malloc</span>((word_num + <span class="number">2</span>)*<span class="keyword">sizeof</span>(LWord*));</span><br><span class="line">    WORD[<span class="number">0</span>] = <span class="literal">NULL</span>;</span><br><span class="line">    WORD[word_num + <span class="number">1</span>] = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">    LWord* p;</span><br><span class="line">    <span class="comment">//Build a heap in the size of N</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; index &lt; MAX_INDEX_NUM; index++)&#123;</span><br><span class="line">        p = HASH[index];</span><br><span class="line">        <span class="keyword">while</span>(p != <span class="literal">NULL</span>)&#123;</span><br><span class="line">            WORD[i] = p; </span><br><span class="line">            _up_heapify(WORD, i);</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">            <span class="keyword">if</span>(++i &gt; N) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i &gt; N) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//Use priority queue to change the peak of min_heap</span></span><br><span class="line">    <span class="keyword">for</span>(; index &lt; MAX_INDEX_NUM; index++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(p == <span class="literal">NULL</span>) p = HASH[index];</span><br><span class="line">        <span class="keyword">while</span>(p != <span class="literal">NULL</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cmp(WORD[<span class="number">1</span>], p))&#123;</span><br><span class="line">                WORD[<span class="number">1</span>] = p;</span><br><span class="line">                _down_heapify(WORD, N);</span><br><span class="line">            &#125;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    heap_sort(WORD);</span><br><span class="line">    <span class="keyword">return</span> WORD;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">void</span> _down_heapify(LWord** WORD, <span class="keyword">int</span> <span class="built_in">size</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">size</span> &lt;= <span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">1</span>, halfsize = (<span class="built_in">size</span> &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    LWord *p = WORD[index];</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;  </span><br><span class="line">        <span class="keyword">int</span> smallest = index;</span><br><span class="line">        <span class="comment">//find the smallest node in the heap</span></span><br><span class="line">        <span class="keyword">if</span>(cmp(WORD[index &lt;&lt; <span class="number">1</span>], WORD[index]))</span><br><span class="line">            smallest = index &lt;&lt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>((index &lt;&lt; <span class="number">1</span>) + <span class="number">1</span> &lt;= <span class="built_in">size</span>)</span><br><span class="line">            <span class="keyword">if</span>(cmp(WORD[(index &lt;&lt; <span class="number">1</span>) + <span class="number">1</span>], WORD[smallest]))</span><br><span class="line">                smallest = (index &lt;&lt; <span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(smallest == index) <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">//exchange the node</span></span><br><span class="line">        LWord *tmp = WORD[smallest];</span><br><span class="line">        WORD[smallest] = WORD[index];</span><br><span class="line">        WORD[index] = tmp;</span><br><span class="line">        <span class="keyword">if</span>(smallest == (index &lt;&lt; <span class="number">1</span>))</span><br><span class="line">            index = index &lt;&lt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> index = (index &lt;&lt; <span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(index &gt; halfsize) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">void</span> _up_heapify(LWord** WORD, <span class="keyword">int</span> index)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(index == <span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">while</span>(cmp(WORD[index], WORD[index &gt;&gt; <span class="number">1</span>]))&#123;</span><br><span class="line">        LWord* tmp = WORD[index &gt;&gt; <span class="number">1</span>];</span><br><span class="line">        WORD[index &gt;&gt; <span class="number">1</span>] = WORD[index];</span><br><span class="line">        WORD[index] = tmp;</span><br><span class="line">        index &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(index &lt;= <span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">heap_sort</span><span class="params">(LWord** WORD)</span>C</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> index = word_num;</span><br><span class="line">    <span class="keyword">while</span>(index &gt;= <span class="number">1</span>)&#123;</span><br><span class="line">        WORD[index + <span class="number">1</span>] = WORD[<span class="number">1</span>];</span><br><span class="line">        WORD[<span class="number">1</span>] = WORD[index];</span><br><span class="line">        WORD[index] = <span class="literal">NULL</span>;</span><br><span class="line">        index--;</span><br><span class="line">        _down_heapify(WORD, index);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="时间优化"><a href="#时间优化" class="headerlink" title="时间优化"></a>时间优化</h3><h4 id="读入"><a href="#读入" class="headerlink" title="读入"></a>读入</h4><p>对于规模较大的文章，重复的流操作时间开销过大，以临时消耗大量空间为代价，开辟内存将整个文章读入字符串，主要用到了C语言中的流操作函数，中间需要注意malloc的使用，最开始忘记在后面乘以sizeof()导致读入错误，具体实现代码如下：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">input</span><span class="params">(FILE* fp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fseek(fp, <span class="number">0L</span>, SEEK_END);</span><br><span class="line">    <span class="keyword">int</span> flen = ftell(fp);</span><br><span class="line">    <span class="keyword">char</span>* <span class="built_in">buffer</span> = (<span class="keyword">char</span>*)<span class="built_in">malloc</span>(flen + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    fseek(fp, <span class="number">0L</span>, SEEK_SET);</span><br><span class="line">    fread(<span class="built_in">buffer</span>, flen, <span class="number">1</span>, fp);</span><br><span class="line">    <span class="built_in">buffer</span>[flen] = <span class="string">'\0'</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">buffer</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">WordRead</span><span class="params">(<span class="keyword">char</span>* <span class="built_in">buffer</span>, LWord** HASH)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> <span class="keyword">word</span>[MAX_WORD_SIZE];</span><br><span class="line">    <span class="keyword">char</span> c;</span><br><span class="line">    <span class="keyword">int</span> pos = <span class="number">0</span>, delta = <span class="string">'a'</span> - <span class="string">'A'</span>, flag = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        c = *<span class="built_in">buffer</span>++;</span><br><span class="line">        <span class="keyword">if</span>(c &lt;= <span class="string">'Z'</span> &amp;&amp; c &gt;= <span class="string">'A'</span>)</span><br><span class="line">            c += delta;</span><br><span class="line">        <span class="keyword">if</span>(c &lt; <span class="string">'a'</span> || c &gt; <span class="string">'z'</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">                <span class="keyword">word</span>[pos] = <span class="string">'\0'</span>;</span><br><span class="line">                addWord(<span class="keyword">word</span>, HASH);</span><br><span class="line">                pos = <span class="number">0</span>;</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">word</span>[pos++] = c;</span><br><span class="line">        flag = <span class="number">1</span>;</span><br><span class="line">    &#125;<span class="keyword">while</span>(c != <span class="string">'\0'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里可以使用有限状态机来判断单词内外状态的交替变化，对于字符更加多样的文档，有限状态机将更为使用，此处暂时不表。</p>
<h4 id="匹配"><a href="#匹配" class="headerlink" title="匹配"></a>匹配</h4><p>对于两个已排好序的字符串集合，如何快速寻找同时在两个集合中出现的字符串？C++STL中的std::map十分好用，但真正实现红黑树费时费力，具体见<a href="">RBT</a>。而且对于有限的排序范围，没有必要大动干戈。如何在O(n)的复杂度内比较字符串，注意到字符串的长度是有限的，所以我们仍采用Trie树，具体实现代码如下：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> _build_list(LWord** LIST)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">char</span> *<span class="keyword">word</span>;</span><br><span class="line">    TWord *p;</span><br><span class="line">    _root_article = _new_tword_alloc();</span><br><span class="line">    <span class="comment">//build a Trie Tree</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; word_num + <span class="number">2</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">word</span> = LIST[i]-&gt;<span class="keyword">word</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(p = _root_article; *<span class="keyword">word</span> != <span class="string">'\0'</span>; <span class="keyword">word</span>++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(p-&gt;ptr[*<span class="keyword">word</span> - <span class="string">'a'</span>] == <span class="literal">NULL</span>)</span><br><span class="line">                p-&gt;ptr[*<span class="keyword">word</span> - <span class="string">'a'</span>] = _new_tword_alloc();</span><br><span class="line">            p = p-&gt;ptr[*<span class="keyword">word</span> - <span class="string">'a'</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//final letter is the end of a word in dictionary</span></span><br><span class="line">        p-&gt;isword += LIST[i]-&gt;num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">check</span><span class="params">(LWord** LIST_1, LWord** LIST_2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//Again we use the Trie Tree</span></span><br><span class="line">    <span class="comment">//If a word in LIST_2 is also in the Trie built by LIST_1 </span></span><br><span class="line">    _build_list(LIST_1);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>, ret = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; word_num + <span class="number">2</span>; i++)</span><br><span class="line">        <span class="keyword">if</span>(count = search(LIST_2[i]-&gt;<span class="keyword">word</span>, _root_article))&#123;</span><br><span class="line">            freq_1 += count;</span><br><span class="line">            freq_2 += LIST_2[i]-&gt;num;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上就是项目整体设计思路，其中还有很多优化的细节在此不表，对于规模很大的文件，最终的运行速度不超过2s，以下是针对两篇文章运行后的结果：</p>
<img src="/post/cca1b543/compare.png" class="" title="articles">
<p>《Jane Eyre》中单词出现的频率：</p>
<img src="/post/cca1b543/JaneEyre.png" class="" title="JaneEyre">
          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tkfblog.com/post/34caa801.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="TKF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/TKF.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TKF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/34caa801.html" itemprop="url">埃拉托斯特尼筛法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-19T08:57:04+08:00">
                2020-05-19
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-05-19T21:25:40+08:00">
                2020-05-19
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ALG/" itemprop="url" rel="index">
                    <span itemprop="name">ALG</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 10000</span></span><br><span class="line"><span class="keyword">int</span> N = <span class="number">0</span>, k = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> visit[MAXN], prime[MAXN];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Sieve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(visit, <span class="number">0</span>, <span class="keyword">sizeof</span>(visit));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= N; i++)</span><br><span class="line">        <span class="keyword">if</span>(!visit[i])&#123;</span><br><span class="line">            prime[k++] = i;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i * <span class="number">2</span>; j &lt;= N; j += i)</span><br><span class="line">                visit[j] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    Sieve();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; prime[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对于查找0~n范围内的素数，时间复杂度为</p>
<script type="math/tex; mode=display">
\sum_{p\leqslant n}(\lfloor \frac n{p}\rfloor - 1)=O(n\sum_{p\leqslant n}\frac1p)=O(n\ln\ln n).</script><h3 id="复杂度证明"><a href="#复杂度证明" class="headerlink" title="复杂度证明"></a>复杂度证明</h3><p>Original Proof较为繁琐，我们这里只给出相对简便易懂的证明。</p>
<p>应用阿贝尔求和公式(Abel Summation)：</p>
<script type="math/tex; mode=display">
\sum_{y<r\leqslant x}a(r)f(r) = A(x)f(x)-A(y)f(y)-\int_y^xA(t)f'(t)dt</script><p>其中$A(x)=\sum_  {r\leqslant x}a(r)$。</p>
<p>引入素数计数函数：</p>
<script type="math/tex; mode=display">
\pi(x)=The\ number\ of\ prime\ numbers\ smaller\ than\ x</script><p>及素数特征函数：</p>
<script type="math/tex; mode=display">
a(r)=\left\{
\begin{aligned}
1\quad&r=p,\\0\quad&r\neq p.
\end{aligned}
\right.</script><p>令$f(r)=\frac 1 r，y=2$，可得</p>
<script type="math/tex; mode=display">
\sum_{p\leqslant x}\frac 1 p=\frac{\pi(x)}{x}+\int_2^x\frac{\pi(t)}{t^2}dt</script><p>引入素数特征函数：</p>
<script type="math/tex; mode=display">
a(r)=\left\{
\begin{aligned}
&\frac{\ln(p)} p\quad&r=p,\\&\quad0\quad&r\neq p.
\end{aligned}
\right.</script><p>得到</p>
<script type="math/tex; mode=display">
A(x)=\sum_{p\leqslant x}\frac{\ln p}p</script><p>令$f(r)=\frac{1}{\ln r}，y=2$，可得</p>
<script type="math/tex; mode=display">
\sum_{p\leqslant x}\frac 1 p=\frac{A(x)}{\ln x}+\int_2^x\frac{A(t)}{t(\ln t)^2}dt</script><p>我们有</p>
<script type="math/tex; mode=display">
\sum_{p\leqslant x}\frac{\ln p}p=\ln x+R(x),\ |R(x)| < 2</script><p>（具体证明见<a href="https://cloud.tsinghua.edu.cn/f/79acaf89175f4b9b8e0c/" target="_blank" rel="noopener">$Mertens’Theorem$</a>）</p>
<p>代入上述等式可得</p>
<script type="math/tex; mode=display">
\begin{align*}
\sum_{p\leqslant x}\frac 1 p&=\frac{\ln x+R(x)}{\ln x}+\int_2^x\frac{\ln t+R(t)}{t(\ln t)^2}dt\\&=1+\frac{R(x)}{\ln x}+\int_2^x\frac{1}{t\ln t}dt+\int_2^x\frac{R(t)}{t(\ln t)^2}dt\\&<1+\frac{2}{\ln x}+\ln\ln x-\ln \ln 2+\int_2^x2d(-\frac{1}{\ln t})\\&=\ln \ln x+1+\frac{2}{\ln 2}-\ln\ln2.
\end{align*}</script><p>易得</p>
<script type="math/tex; mode=display">
\sum_{p\geqslant 2}^{n}\frac1p=O(\ln\ln n)</script>
          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tkfblog.com/post/9fdad6da.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="TKF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/TKF.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TKF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/9fdad6da.html" itemprop="url">线性代数综合问题(2)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-17T19:09:49+08:00">
                2020-05-17
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-05-26T20:29:33+08:00">
                2020-05-26
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Math/" itemprop="url" rel="index">
                    <span itemprop="name">Math</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <img src="/post/9fdad6da/Linear_1.jpg" class="" title="同学的一道考试题">
<h4 id="a"><a href="#a" class="headerlink" title="(a)"></a>(a)</h4><p>Multiple RHS by $\lambda I_n-X$</p>
<script type="math/tex; mode=display">
\begin{align*}
\sum_{k=1}^{n}\frac{(\lambda I_n-X)x_kx_k^T}{\lambda-\lambda_k}&=\sum_{k=1}^{n}\frac{\lambda x_kx_k^T-\lambda_k x_kx_k^T}{\lambda-\lambda_k}\\&=\sum_{k=1}^{n}x_kx_k^T\\&=I_n
\end{align*}</script><p>Similarly, for X is symmetric</p>
<script type="math/tex; mode=display">
\sum_{k=1}^{n}\frac{x_kx_k^T(\lambda I_n-X)}{\lambda-\lambda_k}=I_n</script><h4 id="b"><a href="#b" class="headerlink" title="(b)"></a>(b)</h4><p>Suppose a matrix $ X_j$ which satisfies $ \lambda I_n-X_j$ is the matrix $\lambda I_n-X$ changing its jth column into the base vector$ e_j.$</p>
<p>Then $\det(\lambda I_{n-1}-Y_j)=\det(\lambda I_n-X_j),$ depending on Laplace Expansion.</p>
<p>Using Cramer’s Rule, the solution of the following equation</p>
<script type="math/tex; mode=display">
(\lambda I_n-X)x_k=e_k</script><p>is</p>
<script type="math/tex; mode=display">
\begin{align*}|x_{kj}|&=((\lambda I_n-X)^{-1}e_k)_j\\&=(\sum_{k=1}^{n}\frac{x_kx_k^T}{\lambda-\lambda_k})_j\\&=\sum_{k=1}^n\frac{|x_{kj}|^2}{\lambda-\lambda_k}.\end{align*}</script><p>Thus</p>
<script type="math/tex; mode=display">
\begin{align*}
\frac{\det(\lambda I_{n-1}-Y_j)}{\det(\lambda I_n-X)}&=\frac{\det(\lambda I_{n}-X_j)}{\det(\lambda I_n-X)}\\&=\sum_{k=1}^n\frac{|x_{kj}|^2}{\lambda-\lambda_k}.
\end{align*}</script><h4 id="c"><a href="#c" class="headerlink" title="(c)"></a>(c)</h4><p>The eigenvalue of $ \lambda I_ {n-1}-Y_j$ is $ \lambda-\lambda_k(Y_j)$ and the eigenvalue of $ \lambda I_{n}-X$ is $ \lambda-\lambda_k(X).$</p>
<script type="math/tex; mode=display">
\frac{\Pi_{k=1}^{n-1}(\lambda-\lambda_k(Y_j))}{\Pi_{k=1}^n(\lambda-\lambda_k(X))}=\sum_{k=1}^n\frac{|x_{kj}|^2}{\lambda-\lambda_k}</script><p>for the determinant is equal to the product of all eigenvalues.</p>
<h4 id="d"><a href="#d" class="headerlink" title="(d)"></a>(d)</h4><script type="math/tex; mode=display">
(\lambda-\lambda_i(X))\frac{\Pi_{k=1}^{n-1}(\lambda-\lambda_k(Y_j))}{\Pi_{k=1}^n(\lambda-\lambda_k(X))}=(\lambda-\lambda_i(X))\sum_{k=1}^n\frac{|x_{kj}|^2}{\lambda-\lambda_k(X)}</script><script type="math/tex; mode=display">
\frac{\Pi_{k=1}^{n-1}(\lambda-\lambda_k(Y_j))}{\Pi_{k=1,k\neq i}^n(\lambda-\lambda_k(X))}=|x_{ij}|^2+\sum_{k=1,k\neq i}^n|x_{kj}|^2\frac{\lambda-\lambda_i(X)}{\lambda-\lambda_k(X)}</script><script type="math/tex; mode=display">
\Pi_{k=1}^{n-1}(\lambda_i(X)-\lambda_k(Y_j))=|x_{ij}|^2\Pi_{k=1,k\neq i}^n(\lambda_i(X)-\lambda_k(X)),\ where\ \lambda=\lambda_i(X).</script>
          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tkfblog.com/post/718acd86.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="TKF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/TKF.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TKF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/718acd86.html" itemprop="url">散列表</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-12T12:56:56+08:00">
                2020-05-12
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-05-22T18:55:21+08:00">
                2020-05-22
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ALG/" itemprop="url" rel="index">
                    <span itemprop="name">ALG</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p><strong>散列表</strong>(hash table)维护了一个符号表，其中元素的关键字为任意字符串，它与程序中的标识符相对应。散列表可实现多种字典操作，包括<strong>查找</strong>(search)，<strong>插入</strong>(insert)和<strong>删除</strong>(delete)等。</p>
<h3 id="直接寻址表"><a href="#直接寻址表" class="headerlink" title="直接寻址表"></a>直接寻址表</h3><p>对于较小的全域U，默认没有两个元素有相同的关键字，应用直接寻址表(direct-address table)实现多种字典操作。对于某些应用，直接寻址表本身可以存放动态集合中的元素，即不把某个元素的关键字及卫星数据都放在直接寻址表外部的一个对象中，再由表中某个槽的指针指向该对象，而是直接把该对象存放在表的槽中，从而节省空间。</p>
<h3 id="散列表"><a href="#散列表" class="headerlink" title="散列表"></a>散列表</h3><p>为了解决直接寻址技术对于存储空间的浪费，利用<strong>散列函数</strong>(hash function)，由关键字计算出槽的位置，这里函数h将关键字的全域映射到散列表的槽位上：</p>
<script type="math/tex; mode=display">
h:U\rightarrow \{0, 1, \cdots, m-1 \}</script><p>一般情况下，$\mid T\mid &lt;&lt; \mid  U\mid$，散列函数缩小了数组下标的范围，即减小了数组下标的大小，使其由$\mid U\mid$减小为m。</p>
<p>两个关键字可能会映射到同一个槽中，称这种情形为<strong>冲突</strong>(collision)。通过增强h的随机性来尽可能地减少冲突，但不可能完全地避免冲突，因此我们需要关注两个方面：设计合适的散列函数，及时解决可能出现的冲突。</p>
<h4 id="链接法"><a href="#链接法" class="headerlink" title="链接法"></a>链接法</h4><p>把散列到同一槽中的元素都放在一个链表中，这样在进行查找，插入和删除操作时，只需要找到关键字对应的链表，并在线性时间内完成操作。链表一般采用双向链接来降低删除操作的时间。</p>
<p>给定一个能存放n个元素的，具有m个槽位的散列表T，定义T的装载因子(load factor)$\alpha=\frac{n}{m}$，即一个链的平均存储元素数目。用链接法散列的最坏性能为$\mathbb{O}(n)$，但实际情况下效果很好。散列方法的平均性能则取决于所选的散列函数h将关键字集合分布在槽上的均匀程度，这里先假定任何一个给定元素等可能地散列到m个槽位中的任何一个，且与其他元素被散列到什么位置上无关，称这个假设为<strong>简单均匀散列</strong>(simple uniform hashing)。</p>
<p>对于$j=0,1,\cdots,m-1$，列表的长度$T[j]$用$n_j$表示，于是有$n=n_0+n_1+\cdots+n_{m-1}$，并且$n_j$的期望值为$E[n_j]=\alpha=\frac{n}{m}$。</p>
<p><strong>在简单均匀散列的假设下，对于用链接法解决冲突的散列表，一次查找的平均时间为$\Theta(1+\alpha)$</strong></p>
<p>当查找一个关键字k时，在不成功的情况下，需要对整个链表进行遍历，期望时间与期望长度一致，故所需要的总时间为$\Theta(1+\alpha)$。</p>
<p>假定要查找的元素是链表中存放的n个元素中等可能的任何一个，由于链表中新的元素在头部插入，所以出现在x之前的元素都是在x之后插入的，定义指示器随机变量$X_{ij}=I\ {h(k_i)=h(k_j)\ }$，在简单随机序列的假设下，$Pr\ {h(k_i) = h(k_j)\ }=\frac{1}{m}$，从而有$E\ [X_ {ij}\ ] = \frac{1}{m}$，于是，在一次成功查找中，所检查元素的期望数目为</p>
<script type="math/tex; mode=display">
\begin{align*}
E[\frac{1}{n} \sum_{i=1}^{n}(1+\sum_{j = i+1}^{n}X_{ij})]=&\frac 1 n\sum_{i=1}^{n}(1+\sum_{j=i+1}^{n}E[X_{ij}])\\
=&1+\frac 1 {nm}\sum_{i=1}^{n}(n-i)\\
=&1+\frac1{mn}(n^2-\frac{n(n+1)} 2)\\
=&1+\frac{n-1}{2m}\\
=&1+\frac\alpha2-\frac\alpha{2n}
\end{align*}</script><p>故一次查找成功所需呀的期望时间为$\Theta(2+\alpha/2-\alpha/2n)=\Theta(1+\alpha)$。</p>
<h3 id="散列函数"><a href="#散列函数" class="headerlink" title="散列函数"></a>散列函数</h3><p>在实际应用中，常常可以运用启发式方法来构造性能好的散列函数。设计过程中，可以利用关键字分布的有用信息。一种好的方法导出的散列值，在某种程度上应独立于数据可能存在的任何模式，而且散列函数的某些应用可能会要求比简单均匀随机序列更强的性质，即完全区分很相近的关键字。</p>
<p>多数散列函数都假定关键字的全域为自然数集，因此，如果所给关键字不是自然数，就需要找到一种方法来将它们转化为自然数。</p>
<p><strong>除法散列法</strong>    通过取k除以m的余数，将关键字k映射到m个槽位中的某一个上，即散列函数为$h(k)=k\ mod\ m$，一般情况下，m选择不接近2的整数幂的素数。</p>
<p><strong>乘法散列法</strong>    构造散列函数的乘法散列法包括两个步骤，第一步，用关键字k乘上常数A(0&lt;A&lt;1)，并提取A的小数部分，第二步，用m乘以这个值，再向下取整，即散列函数为$h(k)=\lfloor m(kA \mod 1)\rfloor$。</p>

          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tkfblog.com/post/83dcefb7.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="TKF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/TKF.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TKF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/83dcefb7.html" itemprop="url">线性代数综合问题(1)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-08T23:11:53+08:00">
                2020-05-08
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-05-19T19:15:13+08:00">
                2020-05-19
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Math/" itemprop="url" rel="index">
                    <span itemprop="name">Math</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h2 id="设Q是实正交阵且-det-Q-1-，证明：存在实反对称阵A使得Q-e-A"><a href="#设Q是实正交阵且-det-Q-1-，证明：存在实反对称阵A使得Q-e-A" class="headerlink" title="设Q是实正交阵且$\det Q=1$，证明：存在实反对称阵A使得Q=e^A."></a>设Q是实正交阵且$\det Q=1$，证明：存在实反对称阵A使得Q=e^A.</h2><p>一道作业题~</p>
<p>引理1.设$A\in M_n(\mathbb R)$，$AA^T=A^TA$，求证：存在实正交阵Q使得</p>
<script type="math/tex; mode=display">
Q^TAQ=diag(\begin{bmatrix} a_1 & -b_1 \\  b_1 & a_1\end{bmatrix},\cdots,\begin{bmatrix} a_k & -b_k \\  b_k & a_k\end{bmatrix},\lambda_{2k+1},\cdots,\lambda_n),</script><p>其中$a_j,b_j,\lambda_l\in \mathbb R,b_j\neq 0.$</p>
<p>(1)n=1时，令Q=1即可；n=2时，分两种情况讨论：</p>
<p>1.若A有实特征值$\lambda$，则由$A\in M_2(\mathbb R)$可知，$\exists u\in\mathbb R^2 $，使得$Au=\lambda u$。令$\parallel u\parallel=1$，并扩充为二阶正交矩阵$Q_1=(u,v)$。则有</p>
<script type="math/tex; mode=display">
A_1=Q_1^TAQ^T=\begin{bmatrix} u^T \\ v^T\end{bmatrix}A\begin{bmatrix} u&v\end{bmatrix}=\begin{bmatrix}\lambda u^Tu & u^TAv \\ \lambda u^Tv & v^TAv\end{bmatrix} =\begin{bmatrix}\lambda u^Tu & u^TAv \\ 0 & v^TAv\end{bmatrix}</script><p>由$A$正规知$A_1$正规，$u^TAv=0$故$A_1=\begin{bmatrix}\lambda &amp; 0 \\ 0 &amp; v^TAv\end{bmatrix}$。令$Q=Q_1$即可满足题意。</p>
<p>2.若A没有实特征值，令$\lambda = a + ib(b\neq 0), \gamma = \alpha+i\beta$.则由$A(\alpha +i\beta)=(a+ib)(\alpha +i\beta)$得到</p>
<script type="math/tex; mode=display">
A\alpha=a\alpha-b\beta,\ A\beta=b\alpha+a\beta,\ A\begin{bmatrix}\alpha & \beta\end{bmatrix}=\begin{bmatrix}\alpha&\beta\end{bmatrix}\begin{bmatrix}a&b\\  -b&a\end{bmatrix}</script><p>下证$\parallel \alpha\parallel=\parallel\beta\parallel$且$\alpha^T\beta=0$:</p>
<p>由A实正规知A可酉相似对角化。不妨设$A=U^H\Lambda U,\ AA^T=U^H\Lambda UU^T\Lambda \overline{U}=A^TA=U^T\Lambda \overline{U}U^H\Lambda U$。由于$A^TA$为实矩阵，故$U^H\Lambda UU^T\Lambda\overline{U}=\overline{U^T\Lambda\overline{U}U^H\Lambda U}=U^H\overline{\Lambda}UU^T\Lambda U$，即</p>
<script type="math/tex; mode=display">
\Lambda UU^T\Lambda=\overline{\Lambda}UU^T\overline{\Lambda}</script><p>由$b\neq 0$知$UU^T=0$。$\gamma^T\gamma\Rightarrow\alpha^T\alpha-\beta^T\beta+i(\alpha^T\beta+\beta^T\alpha)=0\Rightarrow\parallel\alpha\parallel=\parallel\beta\parallel,\ \alpha^T\beta=0$。</p>
<p>令$\parallel\alpha\parallel=\parallel\beta\parallel=1$，得到二阶正交矩阵$Q_1=\begin{bmatrix} \alpha&amp;\beta\end{bmatrix}$，则有</p>
<script type="math/tex; mode=display">
A_1=Q_1^TAQ_1=\begin{bmatrix}\alpha^TA\alpha&\alpha^TA\beta\\ \beta^TA\alpha &\beta^TA\beta\end{bmatrix}=\begin{bmatrix}a\alpha^T\alpha&b\alpha^T\alpha\\-b\beta^T\beta&a\beta^T\beta\end{bmatrix}=\begin{bmatrix}a&b\\-b&a\end{bmatrix}</script><p>令$Q=Q_1$即可满足题意。</p>
<p>(2)假设$n\leqslant k $时命题成立。当$n=k+1$时，分两种情况讨论：</p>
<p>1.若$\lambda\in R,u_ {k+1}\in\mathbb R^{k+1}$，使得$Au_ {k+1}=\lambda u_{k+1}$，令$\parallel u_{k+1}\parallel=1$并扩充为$k+1$阶正交矩阵$Q_1=\begin{bmatrix}u_1&amp;\cdots&amp;u_k+1\end{bmatrix}$。则有</p>
<script type="math/tex; mode=display">
A_1=Q_1^TA_1Q_1=\begin{bmatrix} u_1^T\\\vdots\\u_{k+1}^T\end{bmatrix}\begin{bmatrix}Au_1&\cdots&Au_{k+1}\end{bmatrix}=\begin{bmatrix}B&0\\C&\lambda\end{bmatrix}</script><p>由A正规知$A_1$正规，故$C=0$，$B$正规，$A_1=\begin{bmatrix}B&amp;0\\  0&amp;\lambda\end{bmatrix}$。由假设前提知$B\in M_k(\mathbb R)$，存在正交矩阵$Q_2\in M_k(\mathbb R)$使得</p>
<script type="math/tex; mode=display">
Q_2^TBQ_2=diag(\begin{bmatrix}a_1&b_1\\-b_1&a_1\end{bmatrix},\cdots,\begin{bmatrix}a_j&b_j\\-b_j&a_j\end{bmatrix},\lambda_{2j+1},\cdots,\lambda_k)</script><p>则有</p>
<script type="math/tex; mode=display">
\begin{align*}
\begin{bmatrix}Q_2^T&\ \\ \ & 1\end{bmatrix}A_1\begin{bmatrix}Q_2&\ \\ \ & 1\end{bmatrix}&=\begin{bmatrix}Q_2^TBQ_2\\ \ & \lambda\end{bmatrix}\\&=diag(\begin{bmatrix}a_1&b_1\\-b_1&a_1\end{bmatrix},\cdots,\begin{bmatrix}a_j&b_j\\-b_j&a_j\end{bmatrix},\lambda_{2j+1},\cdots,\lambda_k,\lambda)
\end{align*}</script><p>取$Q=Q_1\begin{bmatrix}Q_2&amp;\ \\ \ &amp; 1\end{bmatrix}$满足题意。</p>
<p>2.若$\lambda$不为实数，令$\lambda=a+ib(b\neq 0),\ \gamma=\alpha+i\beta,\ \parallel\alpha\parallel=\parallel\beta\parallel=1$，则$\ A\begin{bmatrix}\alpha &amp; \beta\end{bmatrix}=\begin{bmatrix}\alpha&amp;\beta\end{bmatrix}\begin{bmatrix}a&amp;b\\  -b&amp;a\end{bmatrix}$。将$\gamma$扩充为$k+1$阶正交矩阵$Q_1=\begin{bmatrix}\alpha&amp;\beta&amp;\cdots&amp;u_{k-1}^T\end{bmatrix}$，</p>
<p>则有</p>
<script type="math/tex; mode=display">
A_1=Q_1^TAQ_1=\begin{bmatrix}\alpha^T\\\beta^T\\\vdots\\u_{k-1}^T\end{bmatrix}A\begin{bmatrix}\alpha&\beta&\cdots&u_{k-1}^T\end{bmatrix}=\begin{bmatrix}\begin{matrix}a&b\\-b&a\end{matrix}&C\\0&B\end{bmatrix}</script><p>由A正规知$A_1$正规，故$C=0$，$B$正规，$A_1=\begin{bmatrix}\begin{matrix}a&amp;b\\-b&amp;a\end{matrix}&amp;0\\0&amp;B\end{bmatrix}$。由假设前提知$B\in M_{k-1}(\mathbb R)$，存在正交矩阵$Q_2\in M_k(\mathbb R)$使得</p>
<script type="math/tex; mode=display">
Q_2^TBQ_2=diag(\begin{bmatrix}a_1&b_1\\-b_1&a_1\end{bmatrix},\cdots,\begin{bmatrix}a_j&b_j\\-b_j&a_j\end{bmatrix},\lambda_{2j+1},\cdots,\lambda_{k-1})</script><p>则有</p>
<script type="math/tex; mode=display">
\begin{bmatrix}1&\ &\ \\ \ & 1&\ \\ \ &\ &Q_2^T\end{bmatrix}A_1\begin{bmatrix}1&\ &\ \\ \ & 1&\ \\ \ &\ &Q_2\end{bmatrix}=\begin{bmatrix}\begin{matrix}a&b\\-b&a\end{matrix} &\ \\ \ & Q_2^TBQ_2\end{bmatrix}\\=diag(\begin{bmatrix}a&b\\-b&a\end{bmatrix},\begin{bmatrix}a_1&b_1\\-b_1&a_1\end{bmatrix},\cdots,\begin{bmatrix}a_j&b_j\\-b_j&a_j\end{bmatrix},\lambda_{2j+1},\cdots,\lambda_{k-1})</script><p>取$Q=Q_1\begin{bmatrix}1&amp;\ &amp;\ \\ \ &amp; 1&amp;\ \\ \ &amp;\ &amp;Q_2^T\end{bmatrix}$满足题意。</p>
<p>推论1.对于实正交矩阵$A$，存在实正交矩阵$Q$使得</p>
<script type="math/tex; mode=display">
Q^TAQ=diag(\begin{bmatrix} \cos\theta_1 & \sin\theta_1 \\  -\sin\theta_1 & \cos\theta_1\end{bmatrix},\cdots,\begin{bmatrix} \cos\theta_k & \sin\theta_k \\  -\sin\theta_k & \cos\theta_k\end{bmatrix},1,\cdots,1,-1,\cdots,-1)</script><p>下面我们利用推论1来证明原命题：</p>
<p>存在$Q_1$使得$diag(\begin{bmatrix} \cos\theta_1 &amp; \sin\theta_1 \\  -\sin\theta_1 &amp; \cos\theta_1\end{bmatrix},\cdots,\begin{bmatrix} \cos\theta_k &amp; \sin\theta_k \\  -\sin\theta_k &amp; \cos\theta_k\end{bmatrix},1,\cdots,1,-1,\cdots,-1)=Q_1^TQQ_1$。</p>
<p>不妨令$A_i=\begin{bmatrix}\ &amp;\theta_i\\ -\theta_i&amp;\ \end{bmatrix}$，下证$e^{A_i}=\begin{bmatrix}\cos\theta_i&amp;\sin\theta_i\\ -\cos\theta_i&amp;\sin\theta_i\end{bmatrix}：<br>$由$A$的特征值为$i\theta,\ -i\theta$可得A的特征多项式满足$f(A)=A^2+\theta^2I=0$，则</p>
<script type="math/tex; mode=display">
\begin{align*}
e^{A}&=\sum_{m=0}^{\infty}\frac{A^m}{m!}=\sum_{m=0}^{\infty}\frac{A^{2m}}{(2m)!}+\sum_{m=0}^{\infty}\frac{A^{2m+1}}{(2m+1)!}\\&=\sum_{m=0}^{\infty}\frac{(-\theta^2I)^{m}}{(2m)!}+\sum_{m=0}^{\infty}\frac{(-\theta^2I)^{m}}{(2m+1)!}A\\
&=\sum_{m=0}^{\infty}\frac{(-1)^{m}\theta^{2m}}{(2m)!}I+\sum_{m=0}^{\infty}\frac{(-1)^{m}\theta^{2m+1}}{(2m+1)!}\begin{bmatrix}0&1\\-1&0\end{bmatrix}\\
&=\begin{bmatrix}\cos\theta&\sin\theta\\-\sin\theta&\cos\theta\end{bmatrix}
\end{align*}</script><p>且$e^{\begin{bmatrix}\ &amp;\pi\\  -\pi&amp;\ \end{bmatrix}}=\begin{bmatrix}-1&amp;\ \\  \ &amp;-1\end{bmatrix}$，由$\det{Q}=1$知Q有偶数个特征值为-1，令</p>
<script type="math/tex; mode=display">
A=Q_1diag(A_1,\cdots,A_k,\begin{bmatrix}\ &\pi\\  -\pi&\ \end{bmatrix},\cdots,0)Q_1^T</script><p>满足题意。</p>

          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tkfblog.com/post/652d7ab3.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="TKF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/TKF.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TKF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/652d7ab3.html" itemprop="url">物理层</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-06T18:13:18+08:00">
                2020-05-06
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-05-10T19:08:35+08:00">
                2020-05-10
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Computer-Networks/" itemprop="url" rel="index">
                    <span itemprop="name">Computer Networks</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h2 id="数据通信理论"><a href="#数据通信理论" class="headerlink" title="数据通信理论"></a>数据通信理论</h2><h3 id="傅里叶分析"><a href="#傅里叶分析" class="headerlink" title="傅里叶分析"></a>傅里叶分析</h3><p>对于有限时间内的数据信号g(t)，可以将其转换为<strong>傅里叶级数</strong>(Fourier series)：</p>
<script type="math/tex; mode=display">
g(t)=\frac{1}{2}c+\sum_{n=1}^{\infty}a_n\sin(2\pi nft)+\sum_{n=1}^{\infty}b_n\cos(2\pi nft)</script><p>n次<strong>谐波</strong>(harmonics)的正弦振幅和余弦振幅$a_n$和$b_n$以及常数c可表示为：</p>
<script type="math/tex; mode=display">
a_n=\frac 2 T\int_{0}^{T}g(t)\sin(2\pi nft)dt,\ b_n=\frac 2 T\int_{0}^{T}g(t)\cos(2\pi nft)dt,\ c=\frac 2 T\int_0^Tg(t)dt</script><p>将电流或电压在时域中的变化转换为振幅或传输能量在频域中的变化</p>
<p>传输设施对于不同的傅里叶分量衰减程度不同，且在某截止频率$f_c$范围内，振幅不会明显地发生减弱，称该频率范围称为<strong>（模拟）带宽</strong>（bandwidth），单位为赫兹(Hz)，通常情况下，带宽指能量保留一半以下的频率；<strong>（数字）带宽</strong>则表示信道的最大数据速率，单位为比特每秒(bps)</p>
<p>二者实际上密不可分，提高带宽的目标是使收到的模拟信号具有足以重构出数字信号即原始发送比特序列的精度</p>
<p>称从0到最大频率的信号为<strong>基带</strong>(baseband)信号，称被向上挪移并占用某个更大频率范围的信号为<strong>通带</strong>(passband)信号</p>
<h3 id="信道的最大数据速率"><a href="#信道的最大数据速率" class="headerlink" title="信道的最大数据速率"></a>信道的最大数据速率</h3><p>尼奎斯特(Henry Nyquist)最早提出了一个公式，用来表示一个有限带宽的无噪声信道的最大数据速率：</p>
<script type="math/tex; mode=display">
Maximum=2B\log_2V(bps)</script><p>其中，B表示模拟带宽，V表示离散等级，例如二进制信号只有两级(0,1)</p>
<p>信道中传输信号存在热损耗，称为（随机）<strong>热噪声</strong>；热噪声的数量可以用信号功率S与噪声功率N的比值来度量，这样的比值称之为<strong>信噪比</strong>(SNR, Signal-to-Noise Ratio)，即S/N。通常为了扩大适用范围，采用对数形式来表式：</p>
<script type="math/tex; mode=display">
SNR=10\log_{10}S/N(dB)</script><p>香农(Claude Shannon)将尼奎斯特的公式推广至存在热噪声的情况：</p>
<script type="math/tex; mode=display">
Maximum=B\log_2(1+S/N)(bps)</script><p>热噪声取决于很多因素，例如介质的构成、厚度和电线或光纤的长度等，这也就限制了现实中的数据率，要增大数据率，就必须提高带宽或尽可能地降低信噪比，</p>
<h3 id="传输介质"><a href="#传输介质" class="headerlink" title="传输介质"></a>传输介质</h3><h4 id="引导性传输介质"><a href="#引导性传输介质" class="headerlink" title="引导性传输介质"></a>引导性传输介质</h4><h5 id="磁介质"><a href="#磁介质" class="headerlink" title="磁介质"></a>磁介质</h5><p>将数据写到磁带或其他可擦写介质上，用物理方法将磁带或磁盘进行转移，再在目标机器上将数据读取出来，我们现阶段根本无法超越一辆满载磁盘飞驰在高速公路上的汽车的带宽</p>
<h5 id="双绞线-twisted-pair"><a href="#双绞线-twisted-pair" class="headerlink" title="双绞线(twisted pair)"></a>双绞线(twisted pair)</h5><p>故名思义，双绞线由两根相互绝缘的铜线组成，通过互相抵消可以减少两根铜线的辐射；多根双绞线捆扎成束需互相缠绕来减少干扰</p>
<p>双绞线可以分为几类，其中常见的有早期的3类线(Category 3)，由四根双绞线缠绕成束的5类线(Category 5)，到6类为止，所有双绞线仅由导线和绝缘层简单地构成，称为<strong>非屏蔽双绞线</strong>(UTP, Unshielded Twisted Pair)</p>
<p>可以双向使用的链路称为<strong>全双工</strong>(full-duplex)链路，可以双向使用但一次只能使用一个方向的链路称为<strong>半双工</strong>(half-duplex)链路，只能使用一个方向的链路称为<strong>单工</strong>(simplex)链路</p>
<h5 id="同轴电缆-coaxial-cable"><a href="#同轴电缆-coaxial-cable" class="headerlink" title="同轴电缆(coaxial cable)"></a>同轴电缆(coaxial cable)</h5><p>同轴电缆由硬的铜芯和外面包上一层绝缘材料组成，绝缘材料外面是一层密织的网状圆柱形导体，外层导体再覆盖上一层保护塑料外套。</p>
<p>由于具有较高的带宽和良好的抗噪性，同轴电缆仍然是有线电视和计算机城域网的常用传输介质。</p>
<h5 id="电力线"><a href="#电力线" class="headerlink" title="电力线"></a>电力线</h5><p>既能传输电能，又能传输数据信号（接通电源即可收看节目？）</p>
<p>家庭网络使用电力线的困难在于电线是专为分发电源信号设计的，只要采用的通信方案具有抗频率损耗和突发错误的能力，在典型的居家电力线上达到不小于100Mbps的发送还是切实可行的</p>
<h5 id="光纤"><a href="#光纤" class="headerlink" title="光纤"></a>光纤</h5><p>光纤主要用于网络骨干的长途运输、高速局域网以及高速Internet接入，比如光纤到户(FttH, Fibre to the Home)。光纤传输系统由三个关键部件构成：光源、传输介质、探测器。光源和探测器实现了电脉冲到光脉冲再到电脉冲的转换。</p>
<p>不同光束以不同的角度来回反射着向前传播的光纤称为<strong>多模光纤</strong>(multimode fibre)；如果光的直径减小到只有及格光波波长大小的时候，则光纤就如同一个波导，由此形成了<strong>单模光纤</strong>(single-mode fibre)。</p>
<p>光通过玻璃的衰减取决于光的波长（以及玻璃的某些物理特性）。现代光纤通信最常用的三个波段，分别集中在0.85微米，1.30微米和1.55微米，三个波段都具有$25000~30000GHz$的宽度。</p>
<p>光纤可按照三种不同的方式进行连接。连接器终止（10~20%衰减），机械手段对接（10%衰减），光纤熔合（微小衰减）。</p>
<p>通常用作信号源的有两种光源发光二极管和半导体激光，接收端是一个光电二极管。</p>
<p>1.光纤能容纳更高的带宽来适用于高端网络；2.光纤还具有不受电源浪涌、电磁干扰或电源故障等影响的优点；3.光纤细小且重量较轻；4.光纤不易被接入，所以具有较高的安全性</p>
<h4 id="无线传输"><a href="#无线传输" class="headerlink" title="无线传输"></a>无线传输</h4><h5 id="电磁频谱"><a href="#电磁频谱" class="headerlink" title="电磁频谱"></a>电磁频谱</h5><p>大多数信息传输都是用相对窄的频段，这些技术重点关注窄频内信号的频谱使用效率以及用多大能量的传输来获得合理的数据率。有些情况下也会使用较宽的频段：</p>
<p>1.<strong>跳频扩频</strong>(frequency hopping spread spectrum)：通信过程较难被监听，且对于多径衰减和窄频干扰现象有很好的抵御能力。这种通信方式的鲁棒性对于频谱中的拥挤那部分非常有用，例如ISM频段。跳频技术在商业领域也有广泛的应用，例如蓝牙和802.11。</p>
<p>2.<strong>直接序列扩频</strong>(direct sequence spread spectrum)：利用码片序列将数据信号展开到一个很宽的频段上，这是一项能使多个信号共享同一频段的频谱效率的方法，信号被赋予不同的码片称为<strong>码分多址</strong>(CDMA,Code Devision Multiple Access)。CDMA构成了3G移动电话网络的基础，还被应用于全球定位系统中。</p>
<p>3.<strong>超宽带通信</strong>(UWB, Ultra-WideBand)：UWB发送一系列快速脉冲，这些脉冲随着通信信息而不断变化自己的位置，这种位置的快速变换导致信号被稀疏地分布在一个很宽的频带上。UWB称为是其他信号的衬底(underlay)。用于通过固体物体成像（地面、墙壁和身体）或作为精确定位系统的一部分。</p>
<h5 id="无限电传输"><a href="#无限电传输" class="headerlink" title="无限电传输"></a>无限电传输</h5><p>无线电波的特性与频率有关。在低频部分，无线电波能够很好地穿透障碍物，但是随着信号源越来越远，存在严重的路径损耗；高频无线电波更容易被雨水和其他障碍物吸收，在所有频率上，无线电波都会受到马达和其他电子设备的干扰。</p>
<h5 id="微波传输"><a href="#微波传输" class="headerlink" title="微波传输"></a>微波传输</h5><p>通过抛物线形状的天线，可以把所有的能量集中于一小束，从而获得极高的信噪比，但要求发射端和接收端的天线必须精准地相互对齐，这种定向传播要求发射器与接收器的空间排布满足最小间距规则。</p>
<p>微波信号若延迟抵达会相互干扰，这种效果称为<strong>多径衰落</strong>(multipath fading)。</p>
<h5 id="红外传输"><a href="#红外传输" class="headerlink" title="红外传输"></a>红外传输</h5><p>非引导性红外波被广泛应用于短程通信。红外线的传播具有方向性、便宜且易于制造，因无法穿过固体障碍物广泛应用于遥控器，防窃听等。</p>
<h5 id="光通信"><a href="#光通信" class="headerlink" title="光通信"></a>光通信</h5><p>非引导性光通信可根据显示器或者指示灯的变化来传递信息，从而创建一个围绕显示器的低速网络。</p>

          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/TKF.jpg"
                alt="TKF" />
            
              <p class="site-author-name" itemprop="name">TKF</p>
              <p class="site-description motion-element" itemprop="description">This site is used for keeping daily study notes.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/tkf2019" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="tkf19@mails.tsinghua.edu.cn" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">TKF</span>

  
</div>









        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  


  

  

</body>
</html>
